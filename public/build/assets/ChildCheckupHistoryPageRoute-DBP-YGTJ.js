import{r as n,j as e}from"./app-DVAV-TGf.js";import{B as j}from"./badge-CTccWDK4.js";import{B as m}from"./button-4R4MV2AX.js";import{C as d,a as c,b as D,c as z}from"./card-Db6LBYBq.js";import{I as $}from"./input-LKyOJvLl.js";import{S as M,a as E,b as U,c as K,d as u,C as _}from"./select-DEMw5pec.js";import{f as C,a as Q}from"./dateFormatter-BDcdeFRO.js";import{C as S}from"./clipboard-list-CApg0Lv0.js";import{A as V}from"./activity-BRyv8dCd.js";import{S as q,R as G}from"./sliders-horizontal-CcjdBkSJ.js";import{C as J}from"./calendar-sOmlXuIN.js";import{C as O}from"./circle-alert-Brdm3WCt.js";import{I as P}from"./image-6CYkD1R2.js";import{U as W,d as Y}from"./utils-gt38yA7v.js";import{C as X}from"./chevron-down-BPqhxQSe.js";import{F as Z}from"./file-text-CfVjAf45.js";import{P as H}from"./PasienLayout-D-jx2b2H.js";/* empty css            */import"./index-DeXj-Kjv.js";import"./index-BdQq_4o_.js";import"./Combination-DFkMMEeZ.js";import"./index-BBFquk-Z.js";import"./createLucideIcon-CXjRWg5O.js";import"./index-J8ZRWZZ7.js";import"./index-BHOJKC-J.js";import"./users-DrlGv5kU.js";import"./heart-pulse-BAflLlqZ.js";import"./baby-DNCMkba5.js";import"./log-out-BeM1kc6d.js";const ee=({checkupHistory:t})=>{const[i,N]=n.useState(""),[r,b]=n.useState("all"),[x,T]=n.useState(new Set),[o,f]=n.useState(!1),[k,h]=n.useState(null),y=10,l=n.useMemo(()=>t?t.filter(a=>{const s=r==="all"?!0:a.jenis_kunjungan?.toLowerCase()===r,p=`
                ${a.petugas?.name||""}
                ${a.anak?.nama||""}
                ${a.petugas?.faskes?.nama||""}
                ${a.riwayat_sakit?.map(F=>F.diagnosis).join(" ")||""}
            `.toLowerCase(),B=i.trim()===""||p.includes(i.toLowerCase());return s&&B}):[],[t,r,i]),v=o?l:l.slice(0,y),w=l.length>y;if(!t||t.length===0)return e.jsx("div",{className:"min-h-screen py-8 bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50",children:e.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-1 text-2xl font-bold text-gray-900 sm:text-3xl",children:"Riwayat Checkup Anak"}),e.jsx("p",{className:"text-gray-600",children:"Catatan lengkap pemeriksaan buah hati Anda"})]}),e.jsx(d,{className:"shadow-sm",children:e.jsxs(c,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(S,{className:"w-12 h-12 mb-3 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:"Belum ada riwayat pemeriksaan anak"})]})})]})});const L=()=>{N(""),b("all")},R=a=>{const s=new Set(x);s.has(a)?s.delete(a):s.add(a),T(s)},g=i.trim()||r!=="all",A=a=>a.toLowerCase()==="rutin"?"bg-green-100 text-green-700 hover:bg-green-100":"bg-red-100 text-red-700 hover:bg-red-100",I=a=>a.toLowerCase()==="rutin"?"Pemeriksaan Rutin":"Pemeriksaan Sakit";return e.jsxs("div",{className:"min-h-screen py-8 bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50",children:[e.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-4 mb-8 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mb-1 text-2xl font-bold text-gray-900 sm:text-3xl",children:"Riwayat Checkup Anak"}),e.jsx("p",{className:"text-gray-600",children:"Catatan lengkap pemeriksaan buah hati Anda"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-md bg-purple-100 px-3 py-1 text-sm font-semibold text-purple-800",children:[e.jsx(V,{className:"w-4 h-4 text-purple-600"}),"Total: ",t?.length||0]})})]}),e.jsxs(d,{className:"mb-6 bg-white shadow-sm",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(z,{className:"flex items-center justify-between gap-4 text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{size:20,className:"mr-2 text-blue-600"}),"Filter Pemeriksaan"]}),g&&e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-emerald-100 text-emerald-600",children:"Aktif"})]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:L,disabled:!g,children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Reset Filter"]})]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Jenis Pemeriksaan"}),e.jsxs(M,{value:r,onValueChange:b,children:[e.jsx(E,{children:e.jsx(U,{placeholder:"Semua Pemeriksaan"})}),e.jsxs(K,{className:"bg-white",children:[e.jsx(u,{value:"all",children:"Semua Pemeriksaan"}),e.jsx(u,{value:"rutin",children:"Pemeriksaan Rutin"}),e.jsx(u,{value:"sakit",children:"Pemeriksaan Sakit"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Pencarian"}),e.jsx($,{type:"text",placeholder:"Cari nama anak, dokter, diagnosis...",value:i,onChange:a=>N(a.target.value)})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[v.map(a=>e.jsx(d,{className:"transition-shadow bg-white shadow-sm hover:shadow-md",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex flex-col flex-1 gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(j,{className:A(a.jenis_kunjungan),children:I(a.jenis_kunjungan)}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(J,{className:"w-4 h-4"}),C(a.tanggal_pemeriksaan)]}),a.riwayat_sakit&&a.riwayat_sakit.length>0&&e.jsxs(j,{className:"text-orange-700 bg-orange-100 hover:bg-orange-100",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Ada Riwayat Sakit"]}),a.media_pemeriksaan_anak&&a.media_pemeriksaan_anak.length>0&&e.jsxs(j,{className:"text-blue-700 bg-blue-100 hover:bg-blue-100",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),a.media_pemeriksaan_anak.length," ","Foto"]})]}),e.jsx("div",{children:e.jsx("h3",{className:"mb-1 text-lg font-semibold text-gray-900",children:a.anak.nama})}),e.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:a.petugas.name})]}),a.petugas.faskes&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:a.petugas.faskes.nama})]})]})]}),e.jsx("div",{className:"flex flex-col gap-2 sm:items-end",children:e.jsx(m,{variant:"outline",size:"sm",onClick:()=>R(a.id),className:"shrink-0",children:x.has(a.id)?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Tutup Detail"]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]})})})]}),x.has(a.id)&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"p-4 text-sm border border-blue-200 rounded-lg shadow-sm bg-blue-50",children:[e.jsx("h3",{className:"mb-4 text-base font-semibold text-gray-800",children:"Detail Pemeriksaan"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Usia Saat Periksa"}),e.jsxs("p",{className:"text-gray-600",children:[a.usia_saat_periksa_bulan," ","bulan"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Suhu Tubuh"}),e.jsxs("p",{className:"text-gray-600",children:[a.suhu_tubuh_celsius,"Â°C"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Berat Badan"}),e.jsxs("p",{className:"text-gray-600",children:[a.berat_badan_kg," ","kg"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tinggi Badan"}),e.jsxs("p",{className:"text-gray-600",children:[a.tinggi_badan_cm," ","cm"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Lingkar Kepala"}),e.jsxs("p",{className:"text-gray-600",children:[a.lingkar_kepala_cm," ","cm"]})]}),a.saturasi_oksigen_persen&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Saturasi Oksigen"}),e.jsxs("p",{className:"text-gray-600",children:[a.saturasi_oksigen_persen,"%"]})]})]}),a.perkembangan_motorik&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Motorik:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_motorik})]}),a.perkembangan_kognitif&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Kognitif:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_kognitif})]}),a.perkembangan_emosional&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Emosional:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_emosional})]}),a.catatan_pemeriksaan&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Catatan Pemeriksaan:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.catatan_pemeriksaan})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Terakhir diperbarui:"," ",Q(a.updated_at)]})]}),a.riwayat_sakit&&a.riwayat_sakit.length>0&&e.jsxs("div",{className:"p-4 text-sm border border-red-200 rounded-lg shadow-sm bg-red-50",children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-3 text-base font-semibold text-gray-800",children:[e.jsx(Z,{className:"w-5 h-5 text-red-600"}),"Riwayat Sakit"]}),e.jsx("div",{className:"space-y-4",children:a.riwayat_sakit.map((s,p)=>e.jsxs("div",{className:"p-3 bg-white border border-red-300 rounded-md",children:[a.riwayat_sakit.length>1&&e.jsxs("p",{className:"mb-2 text-xs font-semibold text-red-700",children:["Riwayat"," ",p+1]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tanggal Sakit"}),e.jsx("p",{className:"text-gray-600",children:C(s.tanggal_sakit)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Diagnosis"}),e.jsx("p",{className:"text-gray-600",children:s.diagnosis})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Gejala"}),e.jsx("p",{className:"text-gray-600",children:s.gejala})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tindakan Pengobatan"}),e.jsx("p",{className:"text-gray-600",children:s.tindakan_pengobatan})]})]}),s.catatan&&e.jsxs("div",{className:"pt-3 mt-3 border-t border-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Catatan"}),e.jsx("p",{className:"text-gray-600",children:s.catatan})]})]},s.id))})]}),a.media_pemeriksaan_anak&&a.media_pemeriksaan_anak.length>0&&e.jsxs("div",{className:"p-4 text-sm border border-purple-200 rounded-lg shadow-sm bg-purple-50",children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-3 text-base font-semibold text-gray-800",children:[e.jsx(P,{className:"w-5 h-5 text-purple-600"}),"Dokumentasi Pemeriksaan (",a.media_pemeriksaan_anak.length," ","foto)"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4",children:a.media_pemeriksaan_anak.map(s=>e.jsxs("div",{className:"relative overflow-hidden transition-all bg-white border border-purple-300 rounded-lg shadow-sm cursor-pointer group aspect-square hover:shadow-md",onClick:()=>h(`/storage/${s.file_url}`),children:[e.jsx("img",{src:`/storage/${s.file_url}`,alt:`Foto pemeriksaan ${a.anak.nama}`,className:"object-cover w-full h-full transition-transform group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 transition-opacity bg-black opacity-0 group-hover:opacity-20"})]},s.id))})]})]})]})},a.id)),l.length===0&&e.jsx(d,{className:"bg-white shadow-sm",children:e.jsxs(c,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(S,{className:"w-12 h-12 mb-3 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:g?"Belum ada riwayat pemeriksaan yang sesuai dengan filter":"Belum ada riwayat pemeriksaan anak"})]})})]}),!o&&w&&e.jsxs("div",{className:"flex flex-col items-center gap-3 mt-8",children:[e.jsxs(m,{onClick:()=>f(!0),size:"lg",className:"min-w-[250px] text-white",children:["Tampilkan Semua Data (",l.length," ","total)"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",v.length," dari"," ",l.length," data"]})]}),o&&w&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs(m,{onClick:()=>f(!1),variant:"outline",size:"lg",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Tampilkan Lebih Sedikit"]})})]}),k&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75",onClick:()=>h(null),children:e.jsxs("div",{className:"relative max-h-[90vh] max-w-[90vw]",children:[e.jsx("img",{src:k,alt:"Preview",className:"max-h-[90vh] max-w-full rounded-lg"}),e.jsx("button",{onClick:()=>h(null),className:"absolute p-2 bg-white rounded-full shadow-lg right-2 top-2 hover:bg-gray-100",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})};function Le({user:t,checkupHistory:i}){return e.jsx(H,{currentPage:"dashboard",user:t,children:e.jsx(ee,{checkupHistory:i})})}export{Le as default};
