import{r as a,j as t,H as ie,b as de}from"./app-DVAV-TGf.js";import{B as ue}from"./button-4R4MV2AX.js";import{I as he}from"./input-LKyOJvLl.js";import{c as me,P as D,a as N,u as A,b as fe}from"./Combination-DFkMMEeZ.js";import{P as O}from"./index-J8ZRWZZ7.js";import{u as k,c as K}from"./utils-gt38yA7v.js";import{u as pe}from"./index-BBFquk-Z.js";import{c as be}from"./index-BdQq_4o_.js";import{c as U}from"./createLucideIcon-CXjRWg5O.js";import{P as xe}from"./PasienLayout-D-jx2b2H.js";/* empty css            */import"./index-DeXj-Kjv.js";import"./index-BHOJKC-J.js";import"./chevron-down-BPqhxQSe.js";import"./users-DrlGv5kU.js";import"./heart-pulse-BAflLlqZ.js";import"./baby-DNCMkba5.js";import"./log-out-BeM1kc6d.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],B=U("bot",we);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$=U("loader-circle",Se);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ge=U("send",ve);function ye(e,o){return a.useReducer((r,l)=>o[r][l]??r,e)}var Y="ScrollArea",[G]=me(Y),[je,y]=G(Y),J=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,type:l="hover",dir:n,scrollHideDelay:s=600,...c}=e,[i,d]=a.useState(null),[m,u]=a.useState(null),[f,h]=a.useState(null),[x,p]=a.useState(null),[w,g]=a.useState(null),[b,v]=a.useState(0),[C,E]=a.useState(0),[L,R]=a.useState(!1),[I,M]=a.useState(!1),S=k(o,T=>d(T)),j=pe(n);return t.jsx(je,{scope:r,type:l,dir:j,scrollHideDelay:s,scrollArea:i,viewport:m,onViewportChange:u,content:f,onContentChange:h,scrollbarX:x,onScrollbarXChange:p,scrollbarXEnabled:L,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:g,scrollbarYEnabled:I,onScrollbarYEnabledChange:M,onCornerWidthChange:v,onCornerHeightChange:E,children:t.jsx(D.div,{dir:j,...c,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});J.displayName=Y;var Q="ScrollAreaViewport",Z=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,children:l,nonce:n,...s}=e,c=y(Q,r),i=a.useRef(null),d=k(o,i,c.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(D.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});Z.displayName=Q;var P="ScrollAreaScrollbar",ee=a.forwardRef((e,o)=>{const{forceMount:r,...l}=e,n=y(P,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:c}=n,i=e.orientation==="horizontal";return a.useEffect(()=>(i?s(!0):c(!0),()=>{i?s(!1):c(!1)}),[i,s,c]),n.type==="hover"?t.jsx(Pe,{...l,ref:o,forceMount:r}):n.type==="scroll"?t.jsx(Ce,{...l,ref:o,forceMount:r}):n.type==="auto"?t.jsx(te,{...l,ref:o,forceMount:r}):n.type==="always"?t.jsx(V,{...l,ref:o}):null});ee.displayName=P;var Pe=a.forwardRef((e,o)=>{const{forceMount:r,...l}=e,n=y(P,e.__scopeScrollArea),[s,c]=a.useState(!1);return a.useEffect(()=>{const i=n.scrollArea;let d=0;if(i){const m=()=>{window.clearTimeout(d),c(!0)},u=()=>{d=window.setTimeout(()=>c(!1),n.scrollHideDelay)};return i.addEventListener("pointerenter",m),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),i.removeEventListener("pointerenter",m),i.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),t.jsx(O,{present:r||s,children:t.jsx(te,{"data-state":s?"visible":"hidden",...l,ref:o})})}),Ce=a.forwardRef((e,o)=>{const{forceMount:r,...l}=e,n=y(P,e.__scopeScrollArea),s=e.orientation==="horizontal",c=X(()=>d("SCROLL_END"),100),[i,d]=ye("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(i==="idle"){const m=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(m)}},[i,n.scrollHideDelay,d]),a.useEffect(()=>{const m=n.viewport,u=s?"scrollLeft":"scrollTop";if(m){let f=m[u];const h=()=>{const x=m[u];f!==x&&(d("SCROLL"),c()),f=x};return m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,s,d,c]),t.jsx(O,{present:r||i!=="hidden",children:t.jsx(V,{"data-state":i==="hidden"?"hidden":"visible",...l,ref:o,onPointerEnter:N(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:N(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),te=a.forwardRef((e,o)=>{const r=y(P,e.__scopeScrollArea),{forceMount:l,...n}=e,[s,c]=a.useState(!1),i=e.orientation==="horizontal",d=X(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;c(i?m:u)}},10);return _(r.viewport,d),_(r.content,d),t.jsx(O,{present:l||s,children:t.jsx(V,{"data-state":s?"visible":"hidden",...n,ref:o})})}),V=a.forwardRef((e,o)=>{const{orientation:r="vertical",...l}=e,n=y(P,e.__scopeScrollArea),s=a.useRef(null),c=a.useRef(0),[i,d]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=le(i.viewport,i.content),u={...l,sizes:i,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:h=>c.current=h};function f(h,x){return _e(h,c.current,i,x)}return r==="horizontal"?t.jsx(Re,{...u,ref:o,onThumbPositionChange:()=>{if(n.viewport&&s.current){const h=n.viewport.scrollLeft,x=q(h,i,n.dir);s.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollLeft=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollLeft=f(h,n.dir))}}):r==="vertical"?t.jsx(Ee,{...u,ref:o,onThumbPositionChange:()=>{if(n.viewport&&s.current){const h=n.viewport.scrollTop,x=q(h,i);s.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollTop=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollTop=f(h))}}):null}),Re=a.forwardRef((e,o)=>{const{sizes:r,onSizesChange:l,...n}=e,s=y(P,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),m=k(o,d,s.onScrollbarXChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),t.jsx(oe,{"data-orientation":"horizontal",...n,ref:m,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":W(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),ce(h,f)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&c&&l({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:z(c.paddingLeft),paddingEnd:z(c.paddingRight)}})}})}),Ee=a.forwardRef((e,o)=>{const{sizes:r,onSizesChange:l,...n}=e,s=y(P,e.__scopeScrollArea),[c,i]=a.useState(),d=a.useRef(null),m=k(o,d,s.onScrollbarYChange);return a.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),t.jsx(oe,{"data-orientation":"vertical",...n,ref:m,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":W(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),ce(h,f)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&c&&l({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:z(c.paddingTop),paddingEnd:z(c.paddingBottom)}})}})}),[Ae,re]=G(P),oe=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,sizes:l,hasThumb:n,onThumbChange:s,onThumbPointerUp:c,onThumbPointerDown:i,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:u,onResize:f,...h}=e,x=y(P,r),[p,w]=a.useState(null),g=k(o,S=>w(S)),b=a.useRef(null),v=a.useRef(""),C=x.viewport,E=l.content-l.viewport,L=A(u),R=A(d),I=X(f,10);function M(S){if(b.current){const j=S.clientX-b.current.left,T=S.clientY-b.current.top;m({x:j,y:T})}}return a.useEffect(()=>{const S=j=>{const T=j.target;p?.contains(T)&&L(j,E)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[C,p,E,L]),a.useEffect(R,[l,R]),_(p,I),_(x.content,I),t.jsx(Ae,{scope:r,scrollbar:p,hasThumb:n,onThumbChange:A(s),onThumbPointerUp:A(c),onThumbPositionChange:R,onThumbPointerDown:A(i),children:t.jsx(D.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:N(e.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),b.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),M(S))}),onPointerMove:N(e.onPointerMove,M),onPointerUp:N(e.onPointerUp,S=>{const j=S.target;j.hasPointerCapture(S.pointerId)&&j.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=v.current,x.viewport&&(x.viewport.style.scrollBehavior=""),b.current=null})})})}),H="ScrollAreaThumb",ne=a.forwardRef((e,o)=>{const{forceMount:r,...l}=e,n=re(H,e.__scopeScrollArea);return t.jsx(O,{present:r||n.hasThumb,children:t.jsx(Ne,{ref:o,...l})})}),Ne=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,style:l,...n}=e,s=y(H,r),c=re(H,r),{onThumbPositionChange:i}=c,d=k(o,f=>c.onThumbChange(f)),m=a.useRef(void 0),u=X(()=>{m.current&&(m.current(),m.current=void 0)},100);return a.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(u(),!m.current){const x=ke(f,i);m.current=x,i()}};return i(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,u,i]),t.jsx(D.div,{"data-state":c.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:N(e.onPointerDownCapture,f=>{const x=f.target.getBoundingClientRect(),p=f.clientX-x.left,w=f.clientY-x.top;c.onThumbPointerDown({x:p,y:w})}),onPointerUp:N(e.onPointerUp,c.onThumbPointerUp)})});ne.displayName=H;var F="ScrollAreaCorner",se=a.forwardRef((e,o)=>{const r=y(F,e.__scopeScrollArea),l=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&l?t.jsx(Te,{...e,ref:o}):null});se.displayName=F;var Te=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,...l}=e,n=y(F,r),[s,c]=a.useState(0),[i,d]=a.useState(0),m=!!(s&&i);return _(n.scrollbarX,()=>{const u=n.scrollbarX?.offsetHeight||0;n.onCornerHeightChange(u),d(u)}),_(n.scrollbarY,()=>{const u=n.scrollbarY?.offsetWidth||0;n.onCornerWidthChange(u),c(u)}),m?t.jsx(D.div,{...l,ref:o,style:{width:s,height:i,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function z(e){return e?parseInt(e,10):0}function le(e,o){const r=e/o;return isNaN(r)?0:r}function W(e){const o=le(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=(e.scrollbar.size-r)*o;return Math.max(l,18)}function _e(e,o,r,l="ltr"){const n=W(r),s=n/2,c=o||s,i=n-c,d=r.scrollbar.paddingStart+c,m=r.scrollbar.size-r.scrollbar.paddingEnd-i,u=r.content-r.viewport,f=l==="ltr"?[0,u]:[u*-1,0];return ae([d,m],f)(e)}function q(e,o,r="ltr"){const l=W(o),n=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,s=o.scrollbar.size-n,c=o.content-o.viewport,i=s-l,d=r==="ltr"?[0,c]:[c*-1,0],m=be(e,d);return ae([0,c],[0,i])(m)}function ae(e,o){return r=>{if(e[0]===e[1]||o[0]===o[1])return o[0];const l=(o[1]-o[0])/(e[1]-e[0]);return o[0]+l*(r-e[0])}}function ce(e,o){return e>0&&e<o}var ke=(e,o=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},l=0;return(function n(){const s={left:e.scrollLeft,top:e.scrollTop},c=r.left!==s.left,i=r.top!==s.top;(c||i)&&o(),r=s,l=window.requestAnimationFrame(n)})(),()=>window.cancelAnimationFrame(l)};function X(e,o){const r=A(e),l=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(l.current),[]),a.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(r,o)},[r,o])}function _(e,o){const r=A(o);fe(()=>{let l=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(l),l=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(l),n.unobserve(e)}}},[e,r])}var Le=J,De=Z,Ie=se;function Me({className:e,children:o,...r}){return t.jsxs(Le,{"data-slot":"scroll-area",className:K("relative",e),...r,children:[t.jsx(De,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:o}),t.jsx(He,{}),t.jsx(Ie,{})]})}function He({className:e,orientation:o="vertical",...r}){return t.jsx(ee,{"data-slot":"scroll-area-scrollbar",orientation:o,className:K("flex touch-none p-px transition-colors select-none",o==="vertical"&&"h-full w-2.5 border-l border-l-transparent",o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:t.jsx(ne,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function ze({chatLogs:e=[]}){const[o,r]=a.useState(e),[l,n]=a.useState(""),[s,c]=a.useState(!1),i=a.useRef(null),d=a.useRef(null);a.useEffect(()=>{m()},[o]);const m=()=>{i.current&&(i.current.scrollTop=i.current.scrollHeight)},u=async p=>{if(p.preventDefault(),!l.trim()||s)return;const w=l.trim();n(""),c(!0);const g={id:Date.now(),user_id:0,question:w,answer:"",model_name:"gemini-2.5-flash",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(b=>[...b,g]);try{const b=await de.post("/pasien/chat",{question:w},{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},withCredentials:!0});if(b.data.status){const v={...g,answer:b.data.answer,model_name:"gemini-2.5-flash",updated_at:new Date().toISOString()};r(C=>[...C.slice(0,-1),v])}else throw new Error(b.data.message||"Gagal mendapatkan jawaban")}catch(b){console.error("Chat error:",b);let v="Maaf, terjadi kesalahan. Silakan coba lagi.";b.response?b.response.status===401?v="Sesi Anda telah berakhir. Silakan login kembali.":b.response.status===400?v=b.response.data.message||"Pertanyaan tidak valid.":b.response.status===500&&(v="Terjadi kesalahan pada server. Silakan coba lagi nanti."):b.request&&(v="Tidak dapat terhubung ke server. Periksa koneksi internet Anda.");const C={...g,answer:`âŒ ${v}`,updated_at:new Date().toISOString()};r(E=>[...E.slice(0,-1),C])}finally{c(!1),d.current?.focus()}},f=p=>new Date(p).toLocaleString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),h=p=>{const w=/\[.*?\]\((https?:\/\/[^\s)]+)\)/g,g=/https?:\/\/[^\s)]+/g,b=[];let v;for(;(v=w.exec(p))!==null;)b.push(v[1]);const C=p.match(g)||[];b.push(...C);const E=b.map(R=>R.replace(/^https?:\/\//,"https://").replace(/^[\[\]()]+/,"").replace(/[\[\]()]+$/,"").replace(/[.,;:]+$/,"").trim());return Array.from(new Set(E.map(R=>R.replace(/[\])]+$/,"").trim())))},x=p=>{let w=p;return w=w.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),w=w.replace(/^\* (.+)$/gm,"â€¢ $1<br>"),w=w.replace(/^(.+:)$/gm,'<span class="font-semibold text-blue-800">$1</span>'),w};return t.jsxs(t.Fragment,{children:[t.jsx(ie,{title:"Chatbot SIMKESIA"}),t.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[t.jsx("header",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur-md border-b border-blue-100 shadow-sm",children:t.jsx("div",{className:"max-w-5xl mx-auto px-3 sm:px-4 py-3 sm:py-4",children:t.jsx("div",{className:"flex items-center justify-between gap-2",children:t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-600 rounded-lg shrink-0",children:t.jsx(B,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-sm sm:text-lg font-semibold text-blue-900 truncate",children:"SIMKESIA AI Assistant"}),t.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 truncate",children:"Tanyakan seputar kesehatan"})]})]})})})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx(Me,{ref:i,className:"h-full px-3 sm:px-4 py-4 sm:py-6",children:t.jsxs("div",{className:"max-w-5xl mx-auto space-y-4 sm:space-y-5",children:[o.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[300px] text-center space-y-3 sm:space-y-4 px-4",children:[t.jsx(B,{className:"w-12 h-12 sm:w-16 sm:h-16 text-blue-600"}),t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-blue-900",children:"Selamat Datang di SIMKESIA AI"}),t.jsx("p",{className:"text-blue-700 text-xs sm:text-sm max-w-md",children:"Mulai dengan mengetik pertanyaan Anda di bawah."})]}):o.map((p,w)=>t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs("div",{className:"max-w-[85%] sm:max-w-[75%] bg-blue-600 text-white p-3 sm:p-3.5 rounded-2xl rounded-tr-md shadow-md",children:[t.jsx("p",{className:"text-xs sm:text-sm leading-relaxed break-words",children:p.question}),t.jsx("p",{className:"text-[10px] sm:text-xs text-blue-100 mt-1.5",children:f(p.created_at)})]})}),p.answer&&t.jsx("div",{className:"flex justify-start",children:t.jsxs("div",{className:"flex gap-2 sm:gap-3 max-w-[85%] sm:max-w-[75%]",children:[t.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-100 rounded-full h-fit shrink-0",children:t.jsx(B,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-700"})}),t.jsxs("div",{className:"bg-white border border-blue-100 rounded-2xl rounded-tl-md p-3 sm:p-3.5 shadow-sm",children:[t.jsx("div",{className:"text-xs sm:text-sm text-gray-800 leading-relaxed break-words prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:x(p.answer).split(`
`).map(g=>g.trim()).join(`
`)}}),h(p.answer).length>0&&t.jsxs("div",{className:"mt-3 border-t border-blue-100 pt-2",children:[t.jsx("p",{className:"text-[10px] sm:text-xs text-blue-700 font-semibold mb-1.5",children:"ðŸ”— Sumber Referensi:"}),t.jsx("div",{className:"space-y-1",children:h(p.answer).map((g,b)=>t.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"block text-[10px] sm:text-xs text-blue-500 hover:text-blue-700 hover:underline break-all",children:g},b))})]})]})]})})]},w)),s&&t.jsx("div",{className:"flex justify-start",children:t.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 px-3 sm:px-4 py-2 rounded-2xl border border-blue-100",children:[t.jsx($,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-500 animate-spin"}),t.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 font-medium",children:"AI sedang mengetik..."})]})})]})})}),t.jsx("div",{className:"border-t border-blue-100 bg-white/95 backdrop-blur-md",children:t.jsx("form",{onSubmit:u,className:"max-w-5xl mx-auto p-3 sm:p-4",children:t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsx(he,{ref:d,value:l,onChange:p=>n(p.target.value),placeholder:"Ketik pertanyaan Anda...",disabled:s,className:"flex-1 h-10 sm:h-12 text-sm sm:text-base border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),t.jsx(ue,{type:"submit",disabled:s||!l.trim(),className:"h-10 sm:h-12 bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-5 shrink-0",children:s?t.jsx($,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(ge,{className:"w-4 h-4 sm:w-5 sm:h-5"}),t.jsx("span",{className:"hidden sm:inline ml-2",children:"Kirim"})]})})]})})})]})]})}function nt({user:e,chatLogs:o}){return t.jsx(xe,{currentPage:"dashboard",user:e,children:t.jsx(ze,{chatLogs:o})})}export{nt as default};
