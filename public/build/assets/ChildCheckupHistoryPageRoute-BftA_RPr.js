import{r,j as e}from"./app-DrhzRvIy.js";import{B as A}from"./badge-BwcORycy.js";import{B as m}from"./button-Baa4IBDi.js";import{C as c,a as x,b as B,c as R}from"./card-BxdFDOMR.js";import{I}from"./input-sECjRrHi.js";import{S as F,a as z,b as E,c as $,d as g,C as y}from"./select-PVOd6GPt.js";import{C as v}from"./clipboard-list-BYVoOC8N.js";import{A as K}from"./activity-DHoa89Fo.js";import{S as M,R as U}from"./sliders-horizontal-DZMVrg7O.js";import{C as J}from"./calendar-K9FtiVHV.js";import{U as Q,d as V}from"./utils-BwwSleOz.js";import{C as O}from"./chevron-down-DFboTuUg.js";import{P as Y}from"./PasienLayout-CB0ShgZL.js";/* empty css            */import"./index-Bqyu0GIE.js";import"./index-BdQq_4o_.js";import"./Combination-CEJpoHbc.js";import"./index-Grv0ZP4Q.js";import"./createLucideIcon-BUEv7Pr-.js";import"./index-AsFwZY0m.js";import"./index-Db0ym_Eg.js";import"./heart-pulse-D4pjNEoV.js";import"./baby-tvdAOYVp.js";import"./log-out-B481QPQf.js";const q=({checkupHistory:s})=>{const[t,p]=r.useState(""),[n,j]=r.useState("all"),[d,w]=r.useState(new Set),[h,u]=r.useState(!1),N=10,i=r.useMemo(()=>s?s.filter(a=>{const l=n==="all"?!0:a.jenis_kunjungan?.toLowerCase()===n,D=`
                ${a.petugas?.name||""}
                ${a.diagnosis||""}
                ${a.keluhan||""}
                ${a.petugas?.faskes?.nama||""}
                ${a.anak?.nama||""}
            `.toLowerCase(),L=t.trim()===""||D.includes(t.toLowerCase());return l&&L}):[],[s,n,t]),f=h?i:i.slice(0,N),k=i.length>N;if(!s||s.length===0)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50 p-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-1 text-2xl font-bold text-gray-900 sm:text-3xl",children:"Riwayat Checkup Anak"}),e.jsx("p",{className:"text-gray-600",children:"Catatan lengkap pemeriksaan buah hati Anda"})]}),e.jsx(c,{className:"shadow-sm",children:e.jsxs(x,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(v,{className:"mb-3 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:"Belum ada riwayat pemeriksaan anak"})]})})]})});const C=()=>{p(""),j("all")},_=a=>{const l=new Set(d);l.has(a)?l.delete(a):l.add(a),w(l)},o=t.trim()||n!=="all",S=a=>a.toLowerCase()==="rutin"?"bg-green-100 text-green-700 hover:bg-green-100":"bg-red-100 text-red-700 hover:bg-red-100",P=a=>a.toLowerCase()==="rutin"?"Pemeriksaan Rutin":"Pemeriksaan Sakit",b=a=>new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),T=a=>new Date(a).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50 p-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mb-1 text-2xl font-bold text-gray-900 sm:text-3xl",children:"Riwayat Checkup Anak"}),e.jsx("p",{className:"text-gray-600",children:"Catatan lengkap pemeriksaan buah hati Anda"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-md bg-purple-100 px-3 py-1 text-sm font-semibold text-purple-800",children:[e.jsx(K,{className:"h-4 w-4 text-purple-600"}),"Total: ",s?.length||0]})})]}),e.jsxs(c,{className:"mb-6 bg-white shadow-sm",children:[e.jsx(B,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{className:"flex items-center justify-between gap-4 text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{size:20,className:"mr-2 text-blue-600"}),"Filter Pemeriksaan"]}),o&&e.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-1 text-xs text-emerald-600",children:"Aktif"})]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:C,disabled:!o,children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Jenis Pemeriksaan"}),e.jsxs(F,{value:n,onValueChange:j,children:[e.jsx(z,{children:e.jsx(E,{placeholder:"Semua Pemeriksaan"})}),e.jsxs($,{className:"bg-white",children:[e.jsx(g,{value:"all",children:"Semua Pemeriksaan"}),e.jsx(g,{value:"rutin",children:"Pemeriksaan Rutin"}),e.jsx(g,{value:"sakit",children:"Pemeriksaan Sakit"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Pencarian"}),e.jsx(I,{type:"text",placeholder:"Cari nama anak, dokter, diagnosis...",value:t,onChange:a=>p(a.target.value)})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[f.map(a=>e.jsx(c,{className:"bg-white shadow-sm transition-shadow hover:shadow-md",children:e.jsxs(x,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(A,{className:S(a.jenis_kunjungan),children:P(a.jenis_kunjungan)}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(J,{className:"h-4 w-4"}),b(a.tanggal_pemeriksaan)]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-lg font-semibold text-gray-900",children:a.anak.nama}),a.diagnosis&&e.jsxs("p",{className:"mb-1 text-sm text-gray-700",children:["Diagnosis:"," ",a.diagnosis]}),a.keluhan&&e.jsxs("p",{className:"mb-2 text-sm text-red-600",children:["Keluhan: ",a.keluhan]})]}),e.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:a.petugas.name})]}),a.petugas.faskes&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:a.petugas.faskes.nama})]})]})]}),e.jsx("div",{className:"flex flex-col gap-2 sm:items-end",children:e.jsx(m,{variant:"outline",size:"sm",onClick:()=>_(a.id),className:"shrink-0",children:d.has(a.id)?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Tutup Detail"]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]})})})]}),d.has(a.id)&&e.jsxs("div",{className:"mt-4 rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-base font-semibold text-gray-800",children:"Detail Pemeriksaan"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Usia Saat Periksa"}),e.jsxs("p",{className:"text-gray-600",children:[a.usia_saat_periksa_bulan," ","bulan"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Suhu Tubuh"}),e.jsxs("p",{className:"text-gray-600",children:[a.suhu_tubuh_celsius,"Â°C"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Berat Badan"}),e.jsxs("p",{className:"text-gray-600",children:[a.berat_badan_kg," kg"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tinggi Badan"}),e.jsxs("p",{className:"text-gray-600",children:[a.tinggi_badan_cm," cm"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Lingkar Kepala"}),e.jsxs("p",{className:"text-gray-600",children:[a.lingkar_kepala_cm," ","cm"]})]}),a.saturasi_oksigen_persen&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Saturasi Oksigen"}),e.jsxs("p",{className:"text-gray-600",children:[a.saturasi_oksigen_persen,"%"]})]})]}),a.perkembangan_motorik&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Motorik:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_motorik})]}),a.perkembangan_kognitif&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Kognitif:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_kognitif})]}),a.perkembangan_emosional&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Emosional:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_emosional})]}),a.catatan_pemeriksaan&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Catatan Pemeriksaan:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.catatan_pemeriksaan})]}),a.jadwal_kontrol_berikutnya&&e.jsxs("div",{className:"mt-4 rounded-md bg-green-50 p-3",children:[e.jsx("p",{className:"font-medium text-green-900",children:"Jadwal Kontrol Berikutnya"}),e.jsx("p",{className:"text-green-700",children:b(a.jadwal_kontrol_berikutnya)})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Terakhir diperbarui:"," ",T(a.updated_at)]})]})]})},a.id)),i.length===0&&e.jsx(c,{className:"bg-white shadow-sm",children:e.jsxs(x,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(v,{className:"mb-3 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:o?"Belum ada riwayat pemeriksaan yang sesuai dengan filter":"Belum ada riwayat pemeriksaan anak"})]})})]}),!h&&k&&e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[e.jsxs(m,{onClick:()=>u(!0),size:"lg",className:"min-w-[250px]",children:["Tampilkan Semua Data (",i.length," ","total)"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",f.length," dari"," ",i.length," data"]})]}),h&&k&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs(m,{onClick:()=>u(!1),variant:"outline",size:"lg",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Tampilkan Lebih Sedikit"]})})]})})};function fe({user:s,checkupHistory:t}){return e.jsx(Y,{currentPage:"dashboard",user:s,children:e.jsx(q,{checkupHistory:t})})}export{fe as default};
