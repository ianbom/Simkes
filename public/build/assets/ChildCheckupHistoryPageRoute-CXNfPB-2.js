import{r,j as e}from"./app-DVAV-TGf.js";import{B as A}from"./badge-CTccWDK4.js";import{B as m}from"./button-4R4MV2AX.js";import{C as c,a as d,b as R,c as B}from"./card-Db6LBYBq.js";import{I}from"./input-LKyOJvLl.js";import{S as F,a as z,b as E,c as M,d as g,C as b}from"./select-DEMw5pec.js";import{C as y}from"./clipboard-list-CApg0Lv0.js";import{A as U}from"./activity-BRyv8dCd.js";import{S as $,R as K}from"./sliders-horizontal-CcjdBkSJ.js";import{C as O}from"./calendar-sOmlXuIN.js";import{U as Q}from"./utils-gt38yA7v.js";import{C as V}from"./chevron-down-BPqhxQSe.js";import{P as J}from"./PetugasLayout-CPqymxsL.js";/* empty css            */import"./index-DeXj-Kjv.js";import"./index-BdQq_4o_.js";import"./Combination-DFkMMEeZ.js";import"./index-BBFquk-Z.js";import"./createLucideIcon-CXjRWg5O.js";import"./log-out-BeM1kc6d.js";import"./Navigation-CJXz8Fo2.js";const Y=({checkupHistory:s})=>{const[t,p]=r.useState(""),[l,u]=r.useState("all"),[x,v]=r.useState(new Set),[h,j]=r.useState(!1),f=10,n=r.useMemo(()=>s?s.filter(a=>{const i=l==="all"?!0:a.jenis_kunjungan?.toLowerCase()===l,L=`
                ${a.petugas?.name||""}
                
                ${a.petugas?.faskes?.nama||""}
                ${a.anak?.nama||""}
            `.toLowerCase(),D=t.trim()===""||L.includes(t.toLowerCase());return i&&D}):[],[s,l,t]),N=h?n:n.slice(0,f),k=n.length>f;if(!s||s.length===0)return e.jsxs("div",{className:"px-4 py-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"font-heading text-2xl font-bold",children:"Riwayat Checkup Anak"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Catatan lengkap pemeriksaan buah hati pasien Anda"})]}),e.jsx(c,{className:"bg-white shadow-sm",children:e.jsxs(d,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(y,{className:"mb-3 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:"Belum ada riwayat pemeriksaan anak"})]})})]});const w=()=>{p(""),u("all")},C=a=>{const i=new Set(x);i.has(a)?i.delete(a):i.add(a),v(i)},o=t.trim()||l!=="all",S=a=>a.toLowerCase()==="rutin"?"bg-green-100 text-green-700 hover:bg-green-100":"bg-red-100 text-red-700 hover:bg-red-100",_=a=>a.toLowerCase()==="rutin"?"Pemeriksaan Rutin":"Pemeriksaan Sakit",P=a=>new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),T=a=>new Date(a).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"px-4 py-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-heading text-2xl font-bold",children:"Riwayat Checkup Anak"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Catatan lengkap pemeriksaan buah hati pasien Anda"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-md bg-purple-100 px-3 py-1 text-sm font-semibold text-purple-800",children:[e.jsx(U,{className:"h-4 w-4 text-purple-600"}),"Total: ",s?.length||0]})})]}),e.jsxs(c,{className:"mb-6 bg-white shadow-sm",children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(B,{className:"flex items-center justify-between gap-4 text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{size:20,className:"mr-2 text-blue-600"}),"Filter Pemeriksaan"]}),o&&e.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-1 text-xs text-emerald-600",children:"Aktif"})]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:w,disabled:!o,children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]})}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Jenis Pemeriksaan"}),e.jsxs(F,{value:l,onValueChange:u,children:[e.jsx(z,{children:e.jsx(E,{placeholder:"Semua Pemeriksaan"})}),e.jsxs(M,{className:"bg-white",children:[e.jsx(g,{value:"all",children:"Semua Pemeriksaan"}),e.jsx(g,{value:"rutin",children:"Pemeriksaan Rutin"}),e.jsx(g,{value:"sakit",children:"Pemeriksaan Sakit"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Pencarian"}),e.jsx(I,{type:"text",placeholder:"Cari nama anak, orang tua...",value:t,onChange:a=>p(a.target.value)})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[N.map(a=>e.jsx(c,{className:"bg-white shadow-sm transition-shadow hover:shadow-md",children:e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(A,{className:S(a.jenis_kunjungan),children:_(a.jenis_kunjungan)}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(O,{className:"h-4 w-4"}),P(a.tanggal_pemeriksaan)]})]}),e.jsx("div",{children:e.jsx("h3",{className:"mb-1 text-lg font-semibold text-gray-900",children:a.anak.nama})}),e.jsx("div",{className:"flex flex-col gap-2 text-sm text-gray-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:a.anak?.orangTua?a.anak.orangTua.name:"Orang tua belum terdaftar"})]})})]}),e.jsx("div",{className:"flex flex-col gap-2 sm:items-end",children:e.jsx(m,{variant:"outline",size:"sm",onClick:()=>C(a.id),className:"shrink-0",children:x.has(a.id)?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Tutup Detail"]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]})})})]}),x.has(a.id)&&e.jsxs("div",{className:"mt-4 rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-base font-semibold text-gray-800",children:"Detail Pemeriksaan"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Usia Saat Periksa"}),e.jsxs("p",{className:"text-gray-600",children:[a.usia_saat_periksa_bulan," ","bulan"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Suhu Tubuh"}),e.jsxs("p",{className:"text-gray-600",children:[a.suhu_tubuh_celsius,"Â°C"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Berat Badan"}),e.jsxs("p",{className:"text-gray-600",children:[a.berat_badan_kg," kg"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tinggi Badan"}),e.jsxs("p",{className:"text-gray-600",children:[a.tinggi_badan_cm," cm"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Lingkar Kepala"}),e.jsxs("p",{className:"text-gray-600",children:[a.lingkar_kepala_cm," cm"]})]}),a.saturasi_oksigen_persen&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Saturasi Oksigen"}),e.jsxs("p",{className:"text-gray-600",children:[a.saturasi_oksigen_persen,"%"]})]})]}),a.perkembangan_motorik&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Motorik:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_motorik})]}),a.perkembangan_kognitif&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Kognitif:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_kognitif})]}),a.perkembangan_emosional&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Emosional:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_emosional})]}),a.catatan_pemeriksaan&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Catatan Pemeriksaan:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.catatan_pemeriksaan})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Terakhir diperbarui:"," ",T(a.updated_at)]})]})]})},a.id)),n.length===0&&e.jsx(c,{className:"bg-white shadow-sm",children:e.jsxs(d,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(y,{className:"mb-3 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:o?"Belum ada riwayat pemeriksaan yang sesuai dengan filter":"Belum ada riwayat pemeriksaan anak"})]})})]}),!h&&k&&e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[e.jsxs(m,{onClick:()=>j(!0),size:"lg",className:"min-w-[250px]",children:["Tampilkan Semua Data (",n.length," total)"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",N.length," dari"," ",n.length," data"]})]}),h&&k&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs(m,{onClick:()=>j(!1),variant:"outline",size:"lg",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Tampilkan Lebih Sedikit"]})})]})};function pe({user:s,checkupHistory:t}){return e.jsx(J,{user:s,children:e.jsx(Y,{checkupHistory:t})})}export{pe as default};
