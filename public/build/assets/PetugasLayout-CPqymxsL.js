import{r as a,j as e,L as g,a as u}from"./app-DVAV-TGf.js";import{B as c}from"./button-4R4MV2AX.js";import{M as p,U as m,c as j}from"./utils-gt38yA7v.js";import{C as N}from"./chevron-down-BPqhxQSe.js";import{L as y}from"./log-out-BeM1kc6d.js";import{N as w}from"./Navigation-CJXz8Fo2.js";function v({onMenuClick:i,user:t}){const[n,s]=a.useState(!1),[l]=a.useState(3),r=a.useRef(null),[d,x]=a.useState("");return a.useEffect(()=>{const h=new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"});x(h);function o(f){r.current&&!r.current.contains(f.target)&&s(!1)}return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]),e.jsx("header",{className:"fixed left-0 right-0 top-0 z-50 bg-white px-4 py-3 shadow-sm lg:left-72 lg:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsx(c,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:i,children:e.jsx(p,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-x-2 lg:hidden",children:[e.jsx("img",{src:"/assets/images/simkesia-logo.png",alt:"Logo",className:"h-8 w-8"}),e.jsx("h1",{className:"font-heading text-lg font-bold text-primary",children:"Simkesia"})]}),e.jsx("span",{className:"hidden text-sm font-medium text-gray-600 lg:block",children:d})]}),e.jsx("div",{className:"flex items-center gap-x-3",children:e.jsxs("div",{className:"relative",ref:r,children:[e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>s(!n),className:"flex items-center gap-x-2 px-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary",children:e.jsx(m,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"hidden text-left md:block",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?.name||"Argya Dwi"}),e.jsx("p",{className:"text-xs text-gray-500",children:t?.role||"Petugas Faskes"})]}),e.jsx(N,{className:j("h-4 w-4 transition-transform duration-200",n&&"rotate-180")})]}),n&&e.jsxs("div",{className:"absolute right-0 top-full z-50 mt-2 w-56 rounded-lg bg-white shadow-lg",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?.name||"Dr. John Doe"}),e.jsx("p",{className:"text-xs text-gray-500",children:t?.email||"john.doe@simkesia.com"})]}),e.jsx("div",{className:"py-1",children:e.jsxs(g,{href:"/profile",className:"flex items-center gap-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>s(!1),children:[e.jsx(m,{className:"h-4 w-4"}),"Profil Saya"]})}),e.jsx("div",{className:"py-1",children:e.jsxs("button",{className:"flex w-full items-center gap-x-3 px-4 py-2 text-sm text-red-700 hover:bg-red-50",onClick:()=>{s(!1)},children:[e.jsx(y,{className:"h-4 w-4"}),"Log Out"]})})]})]})})]})})}function P({children:i}){const{auth:t}=u().props,[n,s]=a.useState(!1),l=t?.user;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-white",children:[e.jsx(v,{onMenuClick:()=>s(!0),user:l}),e.jsx(w,{isMobileMenuOpen:n,setIsMobileMenuOpen:s})," ",e.jsx("main",{className:"pt-16 lg:pl-72",children:i})]})}export{P};
