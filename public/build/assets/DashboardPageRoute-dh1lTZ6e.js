import{j as e,r as m,u as Ee,c as A}from"./app-DrhzRvIy.js";import{C,a as _,b as U,c as L,d as W}from"./card-BxdFDOMR.js";import{d as $e,V as ie,u as Y,S as Ke,c as P,X as ze}from"./utils-BwwSleOz.js";import{B as p}from"./badge-BwcORycy.js";import{B as g}from"./button-Baa4IBDi.js";import{C as oe}from"./calendar-K9FtiVHV.js";import{C as B}from"./clock-Dh3n8FaP.js";import{P as le}from"./phone-k9LRzqAg.js";import{c as ce}from"./createLucideIcon-BUEv7Pr-.js";import{I as He}from"./input-sECjRrHi.js";import{C as Ue}from"./CreateAnakForm-BVGqMUZQ.js";import{g as Le,c as We,i as R,P as T,a as w,d as Ye,h as Be,R as Ve,f as Ge,F as Je,D as Ze,j as Qe}from"./Combination-CEJpoHbc.js";import{P as V}from"./index-AsFwZY0m.js";import{I as v}from"./InputLabel-DZRggxFq.js";import{T as k,I as y}from"./TextInput-rmt6-HWI.js";import{P as qe}from"./PrimaryButton-GHzX9Vde.js";import{S as X}from"./search-Dbor2_6x.js";import{P as Xe}from"./PetugasLayout-DvpvKIpV.js";/* empty css            */import"./index-Bqyu0GIE.js";import"./chevron-down-DFboTuUg.js";import"./log-out-B481QPQf.js";import"./Navigation-C0JBEFcD.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ss=ce("user-check",es);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],as=ce("users",ts),ns=()=>e.jsx(C,{className:"border-blue-200 bg-blue-900/70 bg-[url('/assets/images/hero-bg.jpg')] bg-cover bg-center bg-blend-multiply transition-shadow hover:shadow-lg",children:e.jsxs(_,{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex items-center",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-3xl font-bold text-white",children:"Selamat datang, Petugas Faskes Argya Dwi"}),e.jsxs("p",{className:"text-md mt-1 font-extralight text-gray-200",children:["Anda punya 8 appointments hari ini dan 3 pesan penting untuk segera ditindaklanjuti."," "]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"flex items-center gap-2 rounded-lg bg-blue-700 px-4 py-2 font-medium text-white opacity-90 transition-colors duration-200 hover:bg-blue-900",children:[e.jsx($e,{className:"mr-2 h-4 w-4"}),"Mulai Pemeriksaan"]}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg bg-white px-4 py-2 font-medium text-primary opacity-90 transition-colors duration-200 hover:bg-slate-700 hover:text-white",children:[e.jsx(ie,{className:"mr-2 h-4 w-4"}),"Konsultasi"]})]})]})}),rs=({patients:s,onStartExamination:t,onViewDetails:n})=>{const r=a=>{switch(a){case"in-progress":return e.jsx(p,{className:"border-yellow-200 bg-yellow-100 text-yellow-800",children:"Proses..."});case"completed":return e.jsx(p,{className:"border-green-200 bg-green-100 text-green-800",children:"Selesai"});default:return e.jsx(p,{className:"border-gray-200 bg-gray-100 text-gray-800",children:"Menunggu.."})}};return e.jsxs(C,{className:"bg-white",children:[e.jsxs(U,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Antrian Konsultasi Online"]}),e.jsxs(W,{children:["Daftar pasien yang hadir hari ini (",s.length,")"]})]}),e.jsx(_,{children:e.jsx("div",{className:"space-y-4",children:s.map(a=>e.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border p-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 sm:items-center",children:[a.avatar?e.jsx("img",{src:a.avatar,alt:a.name,className:"h-12 w-12 rounded-full object-cover"}):e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:e.jsx("span",{className:"text-sm font-medium text-primary",children:a.name.split(" ").map(i=>i[0]).join("")})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-foreground font-semibold",children:a.name}),a.isPregnant&&e.jsx(p,{className:"bg-blue-500 text-xs text-white",children:"Hamil"})]}),e.jsxs("div",{className:"text-muted-foreground mt-1 flex flex-wrap items-center gap-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),a.time]}),e.jsx("span",{children:a.type}),a.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(le,{className:"h-3 w-3"}),a.phone]})]}),a.notes&&e.jsx("p",{className:"mt-1 cursor-pointer text-sm text-blue-600 hover:underline",children:a.notes})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r(a.status),a.status==="waiting"&&e.jsx(g,{size:"sm",onClick:()=>t(a.id),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Periksa →"}),a.status==="in-progress"&&e.jsx(g,{size:"sm",disabled:!0,className:"bg-gray-100 text-gray-400",children:"Periksa"}),a.status==="completed"&&e.jsx(g,{size:"sm",disabled:!0,className:"bg-gray-100 text-gray-400",children:"Selesai"})]})]},a.id))})})]})},is=({patients:s,onStartExamination:t,onViewDetails:n})=>{const r=a=>{switch(a){case"in-progress":return e.jsx(p,{className:"border-yellow-200 bg-yellow-100 text-yellow-800",children:"Proses..."});case"completed":return e.jsx(p,{className:"border-green-200 bg-green-100 text-green-800",children:"Selesai"});default:return e.jsx(p,{className:"border-gray-200 bg-gray-100 text-gray-800",children:"Menunggu.."})}};return e.jsxs(C,{className:"bg-white",children:[e.jsxs(U,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Riwayat Checkup Pasien"]}),e.jsxs(W,{children:["Daftar pasien yang hadir hari ini (",s.length,")"]})]}),e.jsx(_,{children:e.jsx("div",{className:"space-y-4",children:s.map(a=>e.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border p-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 sm:items-center",children:[a.avatar?e.jsx("img",{src:a.avatar,alt:a.name,className:"h-12 w-12 rounded-full object-cover"}):e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:e.jsx("span",{className:"text-sm font-medium text-primary",children:a.name.split(" ").map(i=>i[0]).join("")})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-foreground font-semibold",children:a.name}),a.isPregnant&&e.jsx(p,{className:"bg-blue-500 text-xs text-white",children:"Hamil"})]}),e.jsxs("div",{className:"text-muted-foreground mt-1 flex flex-wrap items-center gap-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),a.time]}),e.jsx("span",{children:a.type}),a.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(le,{className:"h-3 w-3"}),a.phone]})]}),a.notes&&e.jsx("p",{className:"mt-1 cursor-pointer text-sm text-blue-600 hover:underline",children:a.notes})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r(a.status),a.status==="waiting"&&e.jsx(g,{size:"sm",onClick:()=>t(a.id),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Periksa →"}),a.status==="in-progress"&&e.jsx(g,{size:"sm",disabled:!0,className:"bg-gray-100 text-gray-400",children:"Periksa"}),a.status==="completed"&&e.jsx(g,{size:"sm",disabled:!0,className:"bg-gray-100 text-gray-400",children:"Selesai"})]})]},a.id))})})]})},os=[{id:"1",name:"Sarah Johnson",time:"09:00 AM",type:"ANC",status:"waiting",phone:"+1234567890",isPregnant:!0,notes:"First trimester checkup"},{id:"2",name:"Michael Chen",time:"09:30 AM",type:"Child Checkup",status:"in-progress",phone:"+1234567891",notes:"2-year-old routine vaccination"},{id:"3",name:"Emma Davis",time:"10:00 AM",type:"General",status:"waiting",phone:"+1234567892",notes:"Follow-up for hypertension"},{id:"4",name:"James Wilson",time:"10:30 AM",type:"Follow-up",status:"completed",phone:"+1234567893"}],ls=()=>{const[s]=m.useState(os),t=[{title:"Pasien Hari Ini",value:s.length,icon:as,color:"text-primary",bgColor:"bg-primary/10"},{title:"Konsultasi Online",value:8,icon:ie,color:"text-primary",bgColor:"bg-primary/10"},{title:"Pasien Menunggu",value:s.filter(n=>n.status==="waiting").length,icon:B,color:"text-primary",bgColor:"bg-primary/10"},{title:"Pemerikasaan Selesai",value:s.filter(n=>n.status==="completed").length,icon:ss,color:"text-primary",bgColor:"bg-primary/10"}];return e.jsx("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:t.map((n,r)=>e.jsx(C,{className:"bg-white transition-shadow hover:shadow-md",children:e.jsx(_,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex-shrink-0 rounded-lg p-3 ${n.bgColor}`,children:e.jsx(n.icon,{className:`h-6 w-6 ${n.color}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:n.title}),e.jsx("p",{className:"text-foreground text-2xl font-bold",children:n.value})]})]})})},r))})},cs=864e5,de=6e4,me=36e5,ee=Symbol.for("constructDateFrom");function G(s,t){return typeof s=="function"?s(t):s&&typeof s=="object"&&ee in s?s[ee](t):s instanceof Date?new s.constructor(t):new Date(t)}function M(s,t){return G(s,s)}function se(s){const t=M(s),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+s-+n}function ue(s,...t){const n=G.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function te(s,t){const n=M(s);return n.setHours(0,0,0,0),n}function ds(s,t,n){const[r,a]=ue(n?.in,s,t),i=te(r),l=te(a),d=+i-se(i),u=+l-se(l);return Math.round((d-u)/cs)}function ae(s,t,n){const[r,a]=ue(n?.in,s,t),i=ne(r,a),l=Math.abs(ds(r,a));r.setDate(r.getDate()-i*l);const d=+(ne(r,a)===-i),u=i*(l-d);return u===0?0:u}function ne(s,t){const n=s.getFullYear()-t.getFullYear()||s.getMonth()-t.getMonth()||s.getDate()-t.getDate()||s.getHours()-t.getHours()||s.getMinutes()-t.getMinutes()||s.getSeconds()-t.getSeconds()||s.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function re(s,t){const n=()=>G(t?.in,NaN),a=xs(s);let i;if(a.date){const c=hs(a.date,2);i=ps(c.restDateString,c.year)}if(!i||isNaN(+i))return n();const l=+i;let d=0,u;if(a.time&&(d=fs(a.time),isNaN(d)))return n();if(a.timezone){if(u=js(a.timezone),isNaN(u))return n()}else{const c=new Date(l+d),h=M(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return M(l+d+u)}const S={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ms=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,us=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gs=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xs(s){const t={},n=s.split(S.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],S.timeZoneDelimiter.test(t.date)&&(t.date=s.split(S.timeZoneDelimiter)[0],r=s.substr(t.date.length,s.length))),r){const a=S.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function hs(s,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=s.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:s.slice((r[1]||r[2]).length)}}function ps(s,t){if(t===null)return new Date(NaN);const n=s.match(ms);if(!n)return new Date(NaN);const r=!!n[4],a=D(n[1]),i=D(n[2])-1,l=D(n[3]),d=D(n[4]),u=D(n[5])-1;if(r)return ks(t,d,u)?bs(t,d,u):new Date(NaN);{const c=new Date(0);return!vs(t,i,l)||!ys(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,l)),c)}}function D(s){return s?parseInt(s):1}function fs(s){const t=s.match(us);if(!t)return NaN;const n=F(t[1]),r=F(t[2]),a=F(t[3]);return Ds(n,r,a)?n*me+r*de+a*1e3:NaN}function F(s){return s&&parseFloat(s.replace(",","."))||0}function js(s){if(s==="Z")return 0;const t=s.match(gs);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return ws(r,a)?n*(r*me+a*de):NaN}function bs(s,t,n){const r=new Date(0);r.setUTCFullYear(s,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const Ns=[31,null,31,30,31,30,31,31,30,31,30,31];function ge(s){return s%400===0||s%4===0&&s%100!==0}function vs(s,t,n){return t>=0&&t<=11&&n>=1&&n<=(Ns[t]||(ge(s)?29:28))}function ys(s,t){return t>=1&&t<=(ge(s)?366:365)}function ks(s,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Ds(s,t,n){return s===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&s>=0&&s<25}function ws(s,t){return t>=0&&t<=59}var J="Dialog",[xe]=We(J),[Cs,x]=xe(J),he=s=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!0}=s,d=m.useRef(null),u=m.useRef(null),[c=!1,h]=Le({prop:r,defaultProp:a,onChange:i});return e.jsx(Cs,{scope:t,triggerRef:d,contentRef:u,contentId:R(),titleId:R(),descriptionId:R(),open:c,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(N=>!N),[h]),modal:l,children:n})};he.displayName=J;var pe="DialogTrigger",_s=m.forwardRef((s,t)=>{const{__scopeDialog:n,...r}=s,a=x(pe,n),i=Y(t,a.triggerRef);return e.jsx(T.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":q(a.open),...r,ref:i,onClick:w(s.onClick,a.onOpenToggle)})});_s.displayName=pe;var Z="DialogPortal",[Ps,fe]=xe(Z,{forceMount:void 0}),je=s=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=s,i=x(Z,t);return e.jsx(Ps,{scope:t,forceMount:n,children:m.Children.map(r,l=>e.jsx(V,{present:n||i.open,children:e.jsx(Ye,{asChild:!0,container:a,children:l})}))})};je.displayName=Z;var O="DialogOverlay",be=m.forwardRef((s,t)=>{const n=fe(O,s.__scopeDialog),{forceMount:r=n.forceMount,...a}=s,i=x(O,s.__scopeDialog);return i.modal?e.jsx(V,{present:r||i.open,children:e.jsx(Ts,{...a,ref:t})}):null});be.displayName=O;var Ts=m.forwardRef((s,t)=>{const{__scopeDialog:n,...r}=s,a=x(O,n);return e.jsx(Ve,{as:Ke,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(T.div,{"data-state":q(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),b="DialogContent",Ne=m.forwardRef((s,t)=>{const n=fe(b,s.__scopeDialog),{forceMount:r=n.forceMount,...a}=s,i=x(b,s.__scopeDialog);return e.jsx(V,{present:r||i.open,children:i.modal?e.jsx(Is,{...a,ref:t}):e.jsx(Ss,{...a,ref:t})})});Ne.displayName=b;var Is=m.forwardRef((s,t)=>{const n=x(b,s.__scopeDialog),r=m.useRef(null),a=Y(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Be(i)},[]),e.jsx(ve,{...s,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:w(s.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:w(s.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&i.preventDefault()}),onFocusOutside:w(s.onFocusOutside,i=>i.preventDefault())})}),Ss=m.forwardRef((s,t)=>{const n=x(b,s.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return e.jsx(ve,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{s.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{s.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;n.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ve=m.forwardRef((s,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=s,d=x(b,n),u=m.useRef(null),c=Y(t,u);return Ge(),e.jsxs(e.Fragment,{children:[e.jsx(Je,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Ze,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":q(d.open),...l,ref:c,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Ms,{titleId:d.titleId}),e.jsx(As,{contentRef:u,descriptionId:d.descriptionId})]})]})}),Q="DialogTitle",ye=m.forwardRef((s,t)=>{const{__scopeDialog:n,...r}=s,a=x(Q,n);return e.jsx(T.h2,{id:a.titleId,...r,ref:t})});ye.displayName=Q;var ke="DialogDescription",De=m.forwardRef((s,t)=>{const{__scopeDialog:n,...r}=s,a=x(ke,n);return e.jsx(T.p,{id:a.descriptionId,...r,ref:t})});De.displayName=ke;var we="DialogClose",Ce=m.forwardRef((s,t)=>{const{__scopeDialog:n,...r}=s,a=x(we,n);return e.jsx(T.button,{type:"button",...r,ref:t,onClick:w(s.onClick,()=>a.onOpenChange(!1))})});Ce.displayName=we;function q(s){return s?"open":"closed"}var _e="DialogTitleWarning",[ht,Pe]=Qe(_e,{contentName:b,titleName:Q,docsSlug:"dialog"}),Ms=({titleId:s})=>{const t=Pe(_e),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{s&&(document.getElementById(s)||console.error(n))},[n,s]),null},Os="DialogDescriptionWarning",As=({contentRef:s,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pe(Os).contentName}}.`;return m.useEffect(()=>{const a=s.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,s,t]),null},Rs=he,Fs=je,Es=be,$s=Ne,Ks=ye,zs=De,Hs=Ce;function E({...s}){return e.jsx(Rs,{"data-slot":"dialog",...s})}function Us({...s}){return e.jsx(Fs,{"data-slot":"dialog-portal",...s})}function Ls({className:s,...t}){return e.jsx(Es,{"data-slot":"dialog-overlay",className:P("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function $({className:s,children:t,showCloseButton:n=!0,...r}){return e.jsxs(Us,{"data-slot":"dialog-portal",children:[e.jsx(Ls,{}),e.jsxs($s,{"data-slot":"dialog-content",className:P("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...r,children:[t,n&&e.jsxs(Hs,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(ze,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function K({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-header",className:P("flex flex-col gap-2 text-center sm:text-left",s),...t})}function z({className:s,...t}){return e.jsx(Ks,{"data-slot":"dialog-title",className:P("text-lg leading-none font-semibold",s),...t})}function H({className:s,...t}){return e.jsx(zs,{"data-slot":"dialog-description",className:P("text-muted-foreground text-sm",s),...t})}function Ws({patient:s,onClose:t}){const{data:n,setData:r,post:a,processing:i,errors:l,reset:d}=Ee({user_id:s?.id||"",kehamilan_ke:"",hpht:"",hpl:"",tinggi_badan_awal:"",jumlah_janin:1,status:"Aktif"}),u=c=>{c.preventDefault(),a(route("petugas.createKehamilan"),{preserveScroll:!0,onSuccess:()=>{d(),t()}})};return e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"kehamilan_ke",value:"Kehamilan Ke-"}),e.jsx(k,{id:"kehamilan_ke",type:"number",value:n.kehamilan_ke,className:"mt-1 block w-full",onChange:c=>r("kehamilan_ke",c.target.value)}),e.jsx(y,{message:l.kehamilan_ke,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"hpht",value:"Tanggal HPHT"}),e.jsx(k,{id:"hpht",type:"date",value:n.hpht,className:"mt-1 block w-full",onChange:c=>r("hpht",c.target.value)}),e.jsx(y,{message:l.hpht,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"hpl",value:"Tanggal HPL"}),e.jsx(k,{id:"hpl",type:"date",value:n.hpl,className:"mt-1 block w-full",onChange:c=>r("hpl",c.target.value)}),e.jsx(y,{message:l.hpl,className:"mt-2"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"tinggi_badan_awal",value:"Tinggi Badan Awal (cm)"}),e.jsx(k,{id:"tinggi_badan_awal",type:"number",step:"0.1",value:n.tinggi_badan_awal,className:"mt-1 block w-full",onChange:c=>r("tinggi_badan_awal",c.target.value)}),e.jsx(y,{message:l.tinggi_badan_awal,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"jumlah_janin",value:"Jumlah Janin"}),e.jsx(k,{id:"jumlah_janin",type:"number",value:n.jumlah_janin,className:"mt-1 block w-full",onChange:c=>r("jumlah_janin",c.target.value)}),e.jsx(y,{message:l.jumlah_janin,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"status",value:"Status Kehamilan"}),e.jsxs("select",{id:"status",value:n.status,className:"mt-1 block w-full border-gray-300 rounded-md",onChange:c=>r("status",c.target.value),children:[e.jsx("option",{value:"Aktif",children:"Aktif"}),e.jsx("option",{value:"Selesai",children:"Selesai"}),e.jsx("option",{value:"Keguguran",children:"Keguguran"})]}),e.jsx(y,{message:l.status,className:"mt-2"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(qe,{disabled:i,children:i?"Menyimpan...":"Simpan"})})]})}function Ys({lastestPregnantPatients:s,lastestChildPatients:t,consulQueue:n,childPatient:r,patientPregnant:a,patient:i}){const[l,d]=m.useState(""),[u,c]=m.useState(!1),[h,N]=m.useState(!1),[Te,I]=m.useState(!1),Ie=()=>{l.trim()&&A.get(route("petugas.dashboard.index"),{patient_nik:l},{preserveState:!0,onSuccess:()=>{c(!0)}})},Se=o=>{console.log("Starting examination for patient:",o)},Me=o=>{console.log("Viewing details for patient:",o)},Oe=s.map(o=>({id:`pregnant-${o.id}`,name:`Ibu ${o.id}`,time:o.tanggal_checkup,type:`ANC - ${o.jenis_pemeriksaan}`,status:"waiting",notes:o.keluhan??"",isPregnant:!0})),Ae=t.map(o=>({id:`child-${o.id}`,name:`Anak ${o.id}`,time:o.tanggal_pemeriksaan,type:`Kunjungan - ${o.jenis_kunjungan}`,status:"waiting",notes:`BB: ${o.berat_badan_kg}kg | TB: ${o.tinggi_badan_cm}cm`,isPregnant:!1})),Re=n.map(o=>{let f=o.pasien?.name??"Pasien",j="Konsultasi Umum";return o.anak&&(f=o.anak.nama??f,j="Konsultasi Anak"),o.kehamilan&&(j="Konsultasi Ibu Hamil"),{id:String(o.id),name:f,time:o.waktu_mulai_dijadwalkan,type:j,status:o.status_sesi==="Dikonfirmasi"?"waiting":"in-progress",phone:o.pasien?.no_telp,notes:`Durasi: ${o.durasi_menit} menit | Link: ${o.link_video_conference}`,isPregnant:!!o.kehamilan}}),Fe=[...Oe,...Ae];return r&&r.length>0||a&&a.length>0,e.jsxs("div",{className:"px-4 py-6 pb-20 lg:px-8 lg:pb-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"mb-8 flex items-center justify-between",children:e.jsx("div",{children:e.jsx("h1",{className:"font-heading text-foreground text-2xl font-bold",children:"Dashboard Petugas Faskes"})})}),e.jsx(ns,{})]}),e.jsx(ls,{}),e.jsxs(C,{className:"mb-8 bg-white",children:[e.jsxs(U,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Cari Pasien"]}),e.jsx(W,{children:"Cari pasien berdasarkan NIK"})]}),e.jsx(_,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(He,{placeholder:"Masukkan NIK pasien",value:l,onChange:o=>d(o.target.value),className:"w-full"})}),e.jsxs(g,{onClick:Ie,className:"bg-primary text-white hover:bg-primary/90",children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Cari"]})]})})]}),e.jsx(E,{open:u,onOpenChange:c,children:e.jsxs($,{className:"w-[90vw] max-w-6xl max-h-[85vh] rounded-2xl border border-gray-200 bg-white text-black shadow-xl flex flex-col",children:[e.jsxs(K,{className:"flex-shrink-0",children:[e.jsx(z,{className:"text-2xl font-bold text-black",children:"Hasil Pencarian Pasien"}),e.jsxs(H,{className:"text-base text-gray-600",children:["Menampilkan hasil pencarian berdasarkan NIK:"," ",e.jsx("span",{className:"font-semibold text-black",children:l})]})]}),e.jsx("div",{className:"mt-4 flex-1 overflow-y-auto px-1",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"border-r border-gray-200 pr-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between border-b pb-2",children:[e.jsx("h3",{className:"flex items-center gap-2 text-lg font-semibold",children:"Kehamilan"}),e.jsx(g,{size:"sm",className:"bg-green-500 text-white hover:bg-green-600",onClick:()=>{c(!1),I(!0)},children:"+ Kehamilan"})]}),a&&a.length>0?a.map(o=>{const f=re(o.created_at),j=ae(new Date,f);return e.jsxs("div",{onClick:()=>A.get(route("petugas.create.pemeriksaanAnc",{id:o.id})),className:"mb-4 cursor-pointer rounded-lg border border-gray-300 bg-gray-50 p-5 transition hover:bg-gray-100",children:[e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["ID:"," "]}),o.id]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Kehamilan ke:"," "]}),o.kehamilan_ke??"-"]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Jumlah Janin:"," "]}),o.jumlah_janin??"-"]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Status:"," "]}),o.status??"Tidak diketahui"]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Usia:"," "]}),j," hari sejak pencatatan"]})]},o.id)}):e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Tidak ada data kehamilan."})]}),e.jsxs("div",{className:"pl-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between border-b pb-2",children:[e.jsx("h3",{className:"flex items-center gap-2 text-lg font-semibold",children:"Anak"}),e.jsx(g,{size:"sm",className:"bg-blue-500 text-white hover:bg-blue-600",onClick:()=>{c(!1),N(!0)},children:"+ Anak"})]}),r&&r.length>0?r.map(o=>{const f=re(o.created_at),j=ae(new Date,f);return e.jsx("div",{onClick:()=>A.get(route("petugas.create.pemeriksaanAnak",{id:o.id})),className:"mb-4 cursor-pointer rounded-lg border border-gray-300 bg-gray-50 p-5 transition-all duration-200 hover:border-blue-400 hover:bg-blue-50",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Nama:"," "]}),o.nama]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Kelamin:"," "]}),o.kelamin==="L"?"Laki-laki":o.kelamin==="P"?"Perempuan":"-"]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Usia:"," "]}),j," hari sejak pencatatan"]})]})})},o.id)}):e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Tidak ada data anak."})]})]})}),e.jsx("div",{className:"mt-6 flex justify-end border-t pt-4 flex-shrink-0",children:e.jsx(g,{variant:"outline",className:"rounded-lg border-gray-400 px-6 py-2 text-black hover:bg-gray-200",onClick:()=>c(!1),children:"Tutup"})})]})}),e.jsx(E,{open:Te,onOpenChange:I,children:e.jsxs($,{className:"max-w-2xl rounded-xl border border-gray-200 bg-white text-black shadow-lg",children:[e.jsxs(K,{children:[e.jsx(z,{className:"text-xl font-bold text-black",children:"Tambah Data Kehamilan"}),e.jsx(H,{className:"text-gray-600",children:"Lengkapi informasi kehamilan berikut dengan benar."})]}),e.jsx("div",{className:"mt-4",children:e.jsx(Ws,{patient:i,onClose:()=>I(!1)})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(g,{variant:"outline",className:"border-gray-400 text-black hover:bg-gray-200",onClick:()=>I(!1),children:"Tutup"})})]})}),e.jsx(E,{open:h,onOpenChange:N,children:e.jsxs($,{className:"max-w-2xl rounded-xl border border-gray-200 bg-white text-black shadow-lg",children:[e.jsxs(K,{children:[e.jsx(z,{className:"text-xl font-bold text-black",children:"Tambah Data Anak"}),e.jsx(H,{className:"text-gray-600",children:"Lengkapi informasi anak berikut dengan benar."})]}),e.jsx("div",{className:"mt-4",children:e.jsx(Ue,{patient:i,onClose:()=>N(!1)})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(g,{variant:"outline",className:"border-gray-400 text-black hover:bg-gray-200",onClick:()=>N(!1),children:"Tutup"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[e.jsx(is,{patients:Fe,onStartExamination:Se,onViewDetails:Me}),e.jsx(rs,{patients:Re,onStartExamination:o=>console.log("Start Online",o),onViewDetails:o=>console.log("Detail Online",o)})]})]})}function pt({user:s,lastestPregnantPatients:t,lastestChildPatients:n,consulQueue:r,childPatient:a,patientPregnant:i,patient:l}){return e.jsx(Xe,{user:s,children:e.jsx(Ys,{lastestPregnantPatients:t,lastestChildPatients:n,consulQueue:r,childPatient:a,patientPregnant:i,patient:l})})}export{pt as default};
