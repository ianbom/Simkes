import{r as n,j as e}from"./app--DbWyvYo.js";import{B as j}from"./badge-CTNNiGUT.js";import{B as m}from"./button-C5LM_Ot0.js";import{C as d,a as c,b as D,c as z}from"./card-DOg2QX4Z.js";import{I as $}from"./input-Dab583uN.js";import{S as M,a as E,b as U,c as K,d as u,C as _}from"./select-noyxv5kN.js";import{f as C,a as Q}from"./dateFormatter-BDcdeFRO.js";import{C as S}from"./clipboard-list-CB7Z5JRd.js";import{A as V}from"./activity-DO66Jtyz.js";import{S as q,R as G}from"./sliders-horizontal-BryJowVs.js";import{C as J}from"./calendar-D8RjeAlW.js";import{C as O}from"./circle-alert-CS9CACpm.js";import{I as P}from"./image-C9bmGtXV.js";import{U as W,d as Y}from"./utils-BH-IZkB_.js";import{C as X}from"./chevron-down-CsDtTj4O.js";import{F as Z}from"./file-text-CcSQuyVA.js";import{P as H}from"./PasienLayout-BmxQY9cU.js";/* empty css            */import"./index-Dd8HQuYF.js";import"./index-BdQq_4o_.js";import"./Combination-D1vz9WED.js";import"./index-DOYfHXxP.js";import"./createLucideIcon-DALsoLZg.js";import"./index-8DUkt3Ss.js";import"./index-DUwMuHpD.js";import"./users-CUdPABi-.js";import"./heart-pulse-Dy_JxzPg.js";import"./baby-DuAJb-us.js";import"./log-out-Bzm0h9Q4.js";const ee=({checkupHistory:t})=>{const[i,N]=n.useState(""),[r,b]=n.useState("all"),[x,T]=n.useState(new Set),[o,f]=n.useState(!1),[k,h]=n.useState(null),y=10,l=n.useMemo(()=>t?t.filter(a=>{const s=r==="all"?!0:a.jenis_kunjungan?.toLowerCase()===r,p=`
                ${a.petugas?.name||""}
                ${a.anak?.nama||""}
                ${a.petugas?.faskes?.nama||""}
                ${a.riwayat_sakit?.map(F=>F.diagnosis).join(" ")||""}
            `.toLowerCase(),B=i.trim()===""||p.includes(i.toLowerCase());return s&&B}):[],[t,r,i]),v=o?l:l.slice(0,y),w=l.length>y;if(!t||t.length===0)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50 p-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-1 text-2xl font-bold text-gray-900 sm:text-3xl",children:"Riwayat Checkup Anak"}),e.jsx("p",{className:"text-gray-600",children:"Catatan lengkap pemeriksaan buah hati Anda"})]}),e.jsx(d,{className:"shadow-sm",children:e.jsxs(c,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(S,{className:"mb-3 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:"Belum ada riwayat pemeriksaan anak"})]})})]})});const L=()=>{N(""),b("all")},R=a=>{const s=new Set(x);s.has(a)?s.delete(a):s.add(a),T(s)},g=i.trim()||r!=="all",A=a=>a.toLowerCase()==="rutin"?"bg-green-100 text-green-700 hover:bg-green-100":"bg-red-100 text-red-700 hover:bg-red-100",I=a=>a.toLowerCase()==="rutin"?"Pemeriksaan Rutin":"Pemeriksaan Sakit";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50 p-8",children:[e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mb-1 text-2xl font-bold text-gray-900 sm:text-3xl",children:"Riwayat Checkup Anak"}),e.jsx("p",{className:"text-gray-600",children:"Catatan lengkap pemeriksaan buah hati Anda"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-md bg-purple-100 px-3 py-1 text-sm font-semibold text-purple-800",children:[e.jsx(V,{className:"h-4 w-4 text-purple-600"}),"Total: ",t?.length||0]})})]}),e.jsxs(d,{className:"mb-6 bg-white shadow-sm",children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(z,{className:"flex items-center justify-between gap-4 text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{size:20,className:"mr-2 text-blue-600"}),"Filter Pemeriksaan"]}),g&&e.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-1 text-xs text-emerald-600",children:"Aktif"})]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:L,disabled:!g,children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Jenis Pemeriksaan"}),e.jsxs(M,{value:r,onValueChange:b,children:[e.jsx(E,{children:e.jsx(U,{placeholder:"Semua Pemeriksaan"})}),e.jsxs(K,{className:"bg-white",children:[e.jsx(u,{value:"all",children:"Semua Pemeriksaan"}),e.jsx(u,{value:"rutin",children:"Pemeriksaan Rutin"}),e.jsx(u,{value:"sakit",children:"Pemeriksaan Sakit"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Pencarian"}),e.jsx($,{type:"text",placeholder:"Cari nama anak, dokter, diagnosis...",value:i,onChange:a=>N(a.target.value)})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[v.map(a=>e.jsx(d,{className:"bg-white shadow-sm transition-shadow hover:shadow-md",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(j,{className:A(a.jenis_kunjungan),children:I(a.jenis_kunjungan)}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(J,{className:"h-4 w-4"}),C(a.tanggal_pemeriksaan)]}),a.riwayat_sakit&&a.riwayat_sakit.length>0&&e.jsxs(j,{className:"bg-orange-100 text-orange-700 hover:bg-orange-100",children:[e.jsx(O,{className:"mr-1 h-3 w-3"}),"Ada Riwayat Sakit"]}),a.media_pemeriksaan_anak&&a.media_pemeriksaan_anak.length>0&&e.jsxs(j,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100",children:[e.jsx(P,{className:"mr-1 h-3 w-3"}),a.media_pemeriksaan_anak.length," Foto"]})]}),e.jsx("div",{children:e.jsx("h3",{className:"mb-1 text-lg font-semibold text-gray-900",children:a.anak.nama})}),e.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:a.petugas.name})]}),a.petugas.faskes&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:a.petugas.faskes.nama})]})]})]}),e.jsx("div",{className:"flex flex-col gap-2 sm:items-end",children:e.jsx(m,{variant:"outline",size:"sm",onClick:()=>R(a.id),className:"shrink-0",children:x.has(a.id)?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Tutup Detail"]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]})})})]}),x.has(a.id)&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-base font-semibold text-gray-800",children:"Detail Pemeriksaan"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Usia Saat Periksa"}),e.jsxs("p",{className:"text-gray-600",children:[a.usia_saat_periksa_bulan," ","bulan"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Suhu Tubuh"}),e.jsxs("p",{className:"text-gray-600",children:[a.suhu_tubuh_celsius,"Â°C"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Berat Badan"}),e.jsxs("p",{className:"text-gray-600",children:[a.berat_badan_kg," kg"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tinggi Badan"}),e.jsxs("p",{className:"text-gray-600",children:[a.tinggi_badan_cm," cm"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Lingkar Kepala"}),e.jsxs("p",{className:"text-gray-600",children:[a.lingkar_kepala_cm," ","cm"]})]}),a.saturasi_oksigen_persen&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Saturasi Oksigen"}),e.jsxs("p",{className:"text-gray-600",children:[a.saturasi_oksigen_persen,"%"]})]})]}),a.perkembangan_motorik&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Motorik:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_motorik})]}),a.perkembangan_kognitif&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Kognitif:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_kognitif})]}),a.perkembangan_emosional&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Perkembangan Emosional:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.perkembangan_emosional})]}),a.catatan_pemeriksaan&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Catatan Pemeriksaan:"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.catatan_pemeriksaan})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Terakhir diperbarui:"," ",Q(a.updated_at)]})]}),a.riwayat_sakit&&a.riwayat_sakit.length>0&&e.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm shadow-sm",children:[e.jsxs("h3",{className:"mb-3 flex items-center gap-2 text-base font-semibold text-gray-800",children:[e.jsx(Z,{className:"h-5 w-5 text-red-600"}),"Riwayat Sakit"]}),e.jsx("div",{className:"space-y-4",children:a.riwayat_sakit.map((s,p)=>e.jsxs("div",{className:"rounded-md border border-red-300 bg-white p-3",children:[a.riwayat_sakit.length>1&&e.jsxs("p",{className:"mb-2 text-xs font-semibold text-red-700",children:["Riwayat ",p+1]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tanggal Sakit"}),e.jsx("p",{className:"text-gray-600",children:C(s.tanggal_sakit)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Diagnosis"}),e.jsx("p",{className:"text-gray-600",children:s.diagnosis})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Gejala"}),e.jsx("p",{className:"text-gray-600",children:s.gejala})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tindakan Pengobatan"}),e.jsx("p",{className:"text-gray-600",children:s.tindakan_pengobatan})]})]}),s.catatan&&e.jsxs("div",{className:"mt-3 border-t border-gray-200 pt-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Catatan"}),e.jsx("p",{className:"text-gray-600",children:s.catatan})]})]},s.id))})]}),a.media_pemeriksaan_anak&&a.media_pemeriksaan_anak.length>0&&e.jsxs("div",{className:"rounded-lg border border-purple-200 bg-purple-50 p-4 text-sm shadow-sm",children:[e.jsxs("h3",{className:"mb-3 flex items-center gap-2 text-base font-semibold text-gray-800",children:[e.jsx(P,{className:"h-5 w-5 text-purple-600"}),"Dokumentasi Pemeriksaan (",a.media_pemeriksaan_anak.length," foto)"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4",children:a.media_pemeriksaan_anak.map(s=>e.jsxs("div",{className:"group relative aspect-square cursor-pointer overflow-hidden rounded-lg border border-purple-300 bg-white shadow-sm transition-all hover:shadow-md",onClick:()=>h(`/storage/${s.file_url}`),children:[e.jsx("img",{src:`/storage/${s.file_url}`,alt:`Foto pemeriksaan ${a.anak.nama}`,className:"h-full w-full object-cover transition-transform group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-0 transition-opacity group-hover:opacity-20"})]},s.id))})]})]})]})},a.id)),l.length===0&&e.jsx(d,{className:"bg-white shadow-sm",children:e.jsxs(c,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(S,{className:"mb-3 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:g?"Belum ada riwayat pemeriksaan yang sesuai dengan filter":"Belum ada riwayat pemeriksaan anak"})]})})]}),!o&&w&&e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[e.jsxs(m,{onClick:()=>f(!0),size:"lg",className:"min-w-[250px] text-white",children:["Tampilkan Semua Data (",l.length," ","total)"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",v.length," dari"," ",l.length," data"]})]}),o&&w&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs(m,{onClick:()=>f(!1),variant:"outline",size:"lg",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Tampilkan Lebih Sedikit"]})})]}),k&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:()=>h(null),children:e.jsxs("div",{className:"relative max-h-[90vh] max-w-[90vw]",children:[e.jsx("img",{src:k,alt:"Preview",className:"max-h-[90vh] max-w-full rounded-lg"}),e.jsx("button",{onClick:()=>h(null),className:"absolute right-2 top-2 rounded-full bg-white p-2 shadow-lg hover:bg-gray-100",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})};function Le({user:t,checkupHistory:i}){return e.jsx(H,{currentPage:"dashboard",user:t,children:e.jsx(ee,{checkupHistory:i})})}export{Le as default};
