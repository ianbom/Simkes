import{r,j as e}from"./app-DrhzRvIy.js";import{B as u}from"./badge-BwcORycy.js";import{B as d}from"./button-Baa4IBDi.js";import{C as x,a as c,b as I,c as F}from"./card-BxdFDOMR.js";import{I as z}from"./input-sECjRrHi.js";import{S as J,a as K,b as $,c as E,d as j,C as _}from"./select-PVOd6GPt.js";import{C}from"./clipboard-list-BYVoOC8N.js";import{A as H}from"./activity-DHoa89Fo.js";import{S as M,R as U}from"./sliders-horizontal-DZMVrg7O.js";import{C as f}from"./calendar-K9FtiVHV.js";import{C as Q}from"./circle-alert-8RkL0dyN.js";import{T as V}from"./triangle-alert-DX5ZI7jT.js";import{U as Y}from"./utils-BwwSleOz.js";import{C as q}from"./chevron-down-DFboTuUg.js";import{P as G}from"./PetugasLayout-DvpvKIpV.js";/* empty css            */import"./index-Bqyu0GIE.js";import"./index-BdQq_4o_.js";import"./Combination-CEJpoHbc.js";import"./index-Grv0ZP4Q.js";import"./createLucideIcon-BUEv7Pr-.js";import"./log-out-B481QPQf.js";import"./Navigation-C0JBEFcD.js";const O=({checkupHistory:t})=>{const[l,N]=r.useState(""),[n,k]=r.useState("all"),[h,S]=r.useState(new Set),[g,b]=r.useState(!1),y=10,i=r.useMemo(()=>t?t.filter(a=>{const s=n==="all"?!0:a.jenis_pemeriksaan?.toLowerCase()===n,p=`
                ${a.kehamilan?.user?.name||""}
                ${a.keluhan||""}
                ${a.catatan_petugas||""}
                ${a.petugas?.faskes?.nama||""}
                ${a.deteksi_resiko||""}
            `.toLowerCase(),R=l.trim()===""||p.includes(l.toLowerCase());return s&&R}):[],[t,n,l]),v=g?i:i.slice(0,y),w=i.length>y;if(!t||t.length===0)return e.jsxs("div",{className:"px-4 py-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"font-heading text-2xl font-bold",children:"Riwayat Checkup Kehamilan"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Catatan lengkap pemeriksaan kehamilan pasien Anda"})]}),e.jsx(x,{className:"bg-white shadow-sm",children:e.jsxs(c,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(C,{className:"mb-3 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:"Belum ada riwayat pemeriksaan kehamilan"})]})})]});const T=()=>{N(""),k("all")},P=a=>{const s=new Set(h);s.has(a)?s.delete(a):s.add(a),S(s)},o=l.trim()||n!=="all",D=a=>a.toLowerCase()==="rutin"?"bg-green-100 text-green-700 hover:bg-green-100":"bg-red-100 text-red-700 hover:bg-red-100",L=a=>a.toLowerCase()==="rutin"?"Pemeriksaan Rutin":"Pemeriksaan Sakit",m=a=>new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),B=a=>new Date(a).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),A=a=>!a||a==="Tidak Ada"?"bg-green-100 text-green-700":a==="Ringan"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700";return e.jsxs("div",{className:"px-4 py-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-heading text-2xl font-bold",children:"Riwayat Checkup Kehamilan"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Catatan lengkap pemeriksaan kehamilan pasien Anda"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-md bg-purple-100 px-3 py-1 text-sm font-semibold text-purple-800",children:[e.jsx(H,{className:"h-4 w-4 text-purple-600"}),"Total: ",t?.length||0]})})]}),e.jsxs(x,{className:"mb-6 bg-white shadow-sm",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(F,{className:"flex items-center justify-between gap-4 text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{size:20,className:"mr-2 text-blue-600"}),"Filter Pemeriksaan"]}),o&&e.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-1 text-xs text-emerald-600",children:"Aktif"})]}),e.jsxs(d,{variant:"outline",size:"sm",onClick:T,disabled:!o,children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Jenis Pemeriksaan"}),e.jsxs(J,{value:n,onValueChange:k,children:[e.jsx(K,{children:e.jsx($,{placeholder:"Semua Pemeriksaan"})}),e.jsxs(E,{className:"bg-white",children:[e.jsx(j,{value:"all",children:"Semua Pemeriksaan"}),e.jsx(j,{value:"rutin",children:"Pemeriksaan Rutin"}),e.jsx(j,{value:"sakit",children:"Pemeriksaan Sakit"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Pencarian"}),e.jsx(z,{type:"text",placeholder:"Cari pasien, keluhan, catatan...",value:l,onChange:a=>N(a.target.value)})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[v.map(a=>e.jsx(x,{className:"bg-white shadow-sm transition-shadow hover:shadow-md",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(u,{className:D(a.jenis_pemeriksaan),children:L(a.jenis_pemeriksaan)}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(f,{className:"h-4 w-4"}),m(a.tanggal_checkup)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 rounded-xl border border-gray-200 bg-gradient-to-br from-blue-50 to-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pemeriksaan ANC"}),a.kehamilan_id&&e.jsxs("span",{className:"mt-1 inline-block text-xs font-medium text-gray-500",children:["ID Kehamilan: #",a.kehamilan_id]})]}),a.kehamilan?.usia_kehamilan_minggu&&e.jsxs(u,{className:"whitespace-nowrap bg-purple-100 px-3 py-1 text-xs font-semibold text-purple-700 hover:bg-purple-100",children:[a.kehamilan.usia_kehamilan_minggu," ","minggu"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/80 px-3 py-2",children:[e.jsx(f,{className:"h-4 w-4 flex-shrink-0 text-blue-600"}),e.jsxs("div",{className:"flex min-w-0 flex-col",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"HPHT"}),e.jsx("span",{className:"truncate text-sm font-semibold text-gray-900",children:a.kehamilan?.hpht?m(a.kehamilan.hpht):"Belum ada data"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-white/80 px-3 py-2",children:[e.jsx(f,{className:"h-4 w-4 flex-shrink-0 text-green-600"}),e.jsxs("div",{className:"flex min-w-0 flex-col",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"HPL"}),e.jsx("span",{className:"truncate text-sm font-semibold text-gray-900",children:a.kehamilan?.hpl?m(a.kehamilan.hpl):"Belum ada data"})]})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[a.keluhan&&e.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-red-200 bg-red-50 p-3",children:[e.jsx(Q,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-red-900",children:"Keluhan Pasien"}),e.jsx("p",{className:"text-sm text-red-700",children:a.keluhan})]})]}),a.deteksi_resiko&&e.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-orange-200 bg-orange-50 p-3",children:[e.jsx(V,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-orange-900",children:"Deteksi Risiko"}),e.jsx("p",{className:"text-sm text-orange-700",children:a.deteksi_resiko})]})]})]})]}),e.jsx("div",{className:"flex flex-col gap-2 text-sm text-gray-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:a.kehamilan?.user?.name||"Tidak ada data"})]})})]}),e.jsx("div",{className:"flex flex-col gap-2 sm:items-end",children:e.jsx(d,{variant:"outline",size:"sm",onClick:()=>P(a.id),className:"shrink-0",children:h.has(a.id)?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Tutup Detail"]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Lihat Detail"]})})})]}),h.has(a.id)&&e.jsxs("div",{className:"mt-4 rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm shadow-sm",children:[e.jsx("h3",{className:"mb-4 text-base font-semibold text-gray-800",children:"Detail Pemeriksaan"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tekanan Darah"}),e.jsxs("p",{className:"text-gray-600",children:[a.tekanan_darah_sistolik,"/",a.tekanan_darah_diastolik," ","mmHg"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Berat Badan"}),e.jsxs("p",{className:"text-gray-600",children:[a.berat_badan," kg"]})]}),a.tinggi_fundus&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tinggi Fundus"}),e.jsxs("p",{className:"text-gray-600",children:[a.tinggi_fundus," cm"]})]}),a.lila&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"LILA"}),e.jsxs("p",{className:"text-gray-600",children:[a.lila," cm"]})]}),a.status_bengkak_kaki&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Status Bengkak Kaki"}),e.jsx(u,{className:A(a.status_bengkak_kaki),children:a.status_bengkak_kaki})]}),a.suhu_tubuh_celsius&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Suhu Tubuh"}),e.jsxs("p",{className:"text-gray-600",children:[a.suhu_tubuh_celsius,"°C"]})]})]}),a.dataJanin&&a.dataJanin.length>0&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"mb-2 font-medium text-gray-900",children:"Data Janin"}),a.dataJanin.map((s,p)=>e.jsxs("div",{className:"mb-2 rounded-md bg-purple-50 p-3",children:[s.detak_jantung_janin&&e.jsxs("p",{className:"text-sm text-gray-700",children:["Detak Jantung:"," ",s.detak_jantung_janin," ","bpm"]}),s.presentasi_janin&&e.jsxs("p",{className:"text-sm text-gray-700",children:["Presentasi:"," ",s.presentasi_janin]})]},p))]}),a.catatan_petugas&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Catatan"}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.catatan_petugas})]}),a.saran_kunjungan_berikutnya&&e.jsxs("div",{className:"mt-4 rounded-md bg-green-50 p-3",children:[e.jsx("p",{className:"font-medium text-green-900",children:"Kunjungan Berikutnya"}),e.jsx("p",{className:"text-green-700",children:m(a.saran_kunjungan_berikutnya)})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Terakhir diperbarui:"," ",B(a.updated_at)]})]})]})},a.id)),i.length===0&&e.jsx(x,{className:"bg-white shadow-sm",children:e.jsxs(c,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(C,{className:"mb-3 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-1 text-gray-500",children:o?"Belum ada riwayat pemeriksaan yang sesuai dengan filter":"Belum ada riwayat pemeriksaan kehamilan"})]})})]}),!g&&w&&e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[e.jsxs(d,{onClick:()=>b(!0),size:"lg",className:"min-w-[250px]",children:["Tampilkan Semua Data (",i.length," total)"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Menampilkan ",v.length," dari"," ",i.length," data"]})]}),g&&w&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs(d,{onClick:()=>b(!1),variant:"outline",size:"lg",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Tampilkan Lebih Sedikit"]})})]})};function ke({user:t,checkupHistory:l}){return e.jsx(G,{user:t,children:e.jsx(O,{checkupHistory:l})})}export{ke as default};
