import{j as e,r as m,u as Ue,c as $}from"./app-DVAV-TGf.js";import{C,a as _,b as B,c as V,d as G}from"./card-Db6LBYBq.js";import{d as ze,V as de,u as J,S as Le,c as T,X as We}from"./utils-gt38yA7v.js";import{B as k}from"./badge-CTccWDK4.js";import{B as f}from"./button-4R4MV2AX.js";import{C as me}from"./calendar-sOmlXuIN.js";import{C as Z}from"./clock-C76ppYU3.js";import{P as ue}from"./phone-D96-T0dL.js";import{U as Ye}from"./users-DrlGv5kU.js";import{c as Be}from"./createLucideIcon-CXjRWg5O.js";import{I as Ve}from"./input-LKyOJvLl.js";import{C as Ge}from"./CreateAnakForm-DULFiy0I.js";import{I as N}from"./InputLabel-DAR-NGWg.js";import{T as y,I as v}from"./TextInput-DxCWsAm3.js";import{P as Je}from"./PrimaryButton-NZbOPXAA.js";import{g as Ze,c as Qe,i as K,P,a as w,d as qe,h as Xe,R as es,f as ss,F as ts,D as as,j as ns}from"./Combination-DFkMMEeZ.js";import{P as Q}from"./index-J8ZRWZZ7.js";import{S as ae}from"./search-sjsAQQCf.js";import{P as rs}from"./PetugasLayout-CPqymxsL.js";/* empty css            */import"./index-DeXj-Kjv.js";import"./chevron-down-BPqhxQSe.js";import"./log-out-BeM1kc6d.js";import"./Navigation-CJXz8Fo2.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],os=Be("user-check",is),ls=()=>e.jsx(C,{className:"border-blue-200 bg-blue-900/70 bg-[url('/assets/images/hero-bg.jpg')] bg-cover bg-center bg-blend-multiply transition-shadow hover:shadow-lg",children:e.jsxs(_,{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex items-center",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-3xl font-bold text-white",children:"Selamat datang, Petugas"}),e.jsxs("p",{className:"text-md mt-1 font-extralight text-gray-200",children:["Anda punya appointments hari ini untuk segera ditindaklanjuti."," "]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"flex items-center gap-2 rounded-lg bg-blue-700 px-4 py-2 font-medium text-white opacity-90 transition-colors duration-200 hover:bg-blue-900",children:[e.jsx(ze,{className:"mr-2 h-4 w-4"}),"Mulai Pemeriksaan"]}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg bg-white px-4 py-2 font-medium text-primary opacity-90 transition-colors duration-200 hover:bg-slate-700 hover:text-white",children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Konsultasi"]})]})]})}),cs=({patients:s,onStartExamination:t,onViewDetails:a})=>{const n=r=>{switch(r){case"in-progress":return e.jsx(k,{className:"text-yellow-800 bg-yellow-100 border-yellow-200",children:"Proses..."});case"completed":return e.jsx(k,{className:"text-green-800 bg-green-100 border-green-200",children:"Selesai"});default:return e.jsx(k,{className:"text-gray-800 bg-gray-100 border-gray-200",children:"Menunggu.."})}};return e.jsxs(C,{className:"bg-white",children:[e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5"}),"Antrian Konsultasi Online"]}),e.jsxs(G,{children:["Daftar pasien yang hadir hari ini (",s.length,")"]})]}),e.jsx(_,{children:e.jsx("div",{className:"space-y-4",children:s.map(r=>e.jsxs("div",{className:"flex flex-col gap-3 p-4 border rounded-lg sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"flex items-start gap-4 sm:items-center",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold text-foreground",children:r.name}),r.isPregnant&&e.jsx(k,{className:"text-xs text-white bg-blue-500",children:"Hamil"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-3 h-3"}),r.time]}),e.jsx("span",{children:r.type}),r.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ue,{className:"w-3 h-3"}),r.phone]})]}),r.notes&&e.jsx("p",{className:"mt-1 text-sm text-blue-600 cursor-pointer hover:underline",children:r.notes})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[n(r.status),r.status==="waiting"&&e.jsx(f,{size:"sm",onClick:()=>t(r.id),className:"text-white bg-blue-500 hover:bg-blue-600",children:"Periksa â†’"}),r.status==="in-progress"&&e.jsx(f,{size:"sm",disabled:!0,className:"text-gray-400 bg-gray-100",children:"Periksa"}),r.status==="completed"&&e.jsx(f,{size:"sm",disabled:!0,className:"text-gray-400 bg-gray-100",children:"Selesai"})]})]},r.id))})})]})},ds=({patients:s,onStartExamination:t,onViewDetails:a})=>e.jsxs(C,{className:"bg-white",children:[e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Riwayat Checkup Pasien"]}),e.jsxs(G,{children:["Daftar pasien yang hadir hari ini (",s.length,")"]})]}),e.jsx(_,{children:e.jsx("div",{className:"space-y-4",children:s.map(n=>e.jsx("div",{className:"flex flex-col gap-3 rounded-lg border p-4 sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{className:"flex items-start gap-4 sm:items-center",children:[n.avatar?e.jsx("img",{src:n.avatar,alt:n.name,className:"h-12 w-12 rounded-full object-cover"}):e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:e.jsx("span",{className:"text-sm font-medium text-primary",children:n.name.split(" ").map(r=>r[0]).join("")})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-foreground font-semibold",children:n.name}),n.isPregnant&&e.jsx(k,{className:"bg-blue-500 text-xs text-white",children:"Hamil"})]}),e.jsxs("div",{className:"text-muted-foreground mt-1 flex flex-wrap items-center gap-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"h-3 w-3"}),n.time]}),e.jsx("span",{children:n.type}),n.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ue,{className:"h-3 w-3"}),n.phone]})]}),n.notes&&e.jsx("p",{className:"mt-1 cursor-pointer text-sm text-blue-600 hover:underline",children:n.notes})]})]})},n.id))})})]}),ms=[{id:"1",name:"Sarah Johnson",time:"09:00 AM",type:"ANC",status:"waiting",phone:"+1234567890",isPregnant:!0,notes:"First trimester checkup"},{id:"2",name:"Michael Chen",time:"09:30 AM",type:"Child Checkup",status:"in-progress",phone:"+1234567891",notes:"2-year-old routine vaccination"},{id:"3",name:"Emma Davis",time:"10:00 AM",type:"General",status:"waiting",phone:"+1234567892",notes:"Follow-up for hypertension"},{id:"4",name:"James Wilson",time:"10:30 AM",type:"Follow-up",status:"completed",phone:"+1234567893"}],us=()=>{const[s]=m.useState(ms),t=[{title:"Pasien Hari Ini",value:s.length,icon:Ye,color:"text-primary",bgColor:"bg-primary/10"},{title:"Konsultasi Online",value:8,icon:de,color:"text-primary",bgColor:"bg-primary/10"},{title:"Pasien Menunggu",value:s.filter(a=>a.status==="waiting").length,icon:Z,color:"text-primary",bgColor:"bg-primary/10"},{title:"Pemerikasaan Selesai",value:s.filter(a=>a.status==="completed").length,icon:os,color:"text-primary",bgColor:"bg-primary/10"}];return e.jsx("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:t.map((a,n)=>e.jsx(C,{className:"bg-white transition-shadow hover:shadow-md",children:e.jsx(_,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex-shrink-0 rounded-lg p-3 ${a.bgColor}`,children:e.jsx(a.icon,{className:`h-6 w-6 ${a.color}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:a.title}),e.jsx("p",{className:"text-foreground text-2xl font-bold",children:a.value})]})]})})},n))})},gs=864e5,ge=6e4,xe=36e5,ne=Symbol.for("constructDateFrom");function q(s,t){return typeof s=="function"?s(t):s&&typeof s=="object"&&ne in s?s[ne](t):s instanceof Date?new s.constructor(t):new Date(t)}function A(s,t){return q(s,s)}function re(s){const t=A(s),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+s-+a}function he(s,...t){const a=q.bind(null,t.find(n=>typeof n=="object"));return t.map(a)}function ie(s,t){const a=A(s);return a.setHours(0,0,0,0),a}function xs(s,t,a){const[n,r]=he(a?.in,s,t),i=ie(n),l=ie(r),d=+i-re(i),u=+l-re(l);return Math.round((d-u)/gs)}function oe(s,t,a){const[n,r]=he(a?.in,s,t),i=le(n,r),l=Math.abs(xs(n,r));n.setDate(n.getDate()-i*l);const d=+(le(n,r)===-i),u=i*(l-d);return u===0?0:u}function le(s,t){const a=s.getFullYear()-t.getFullYear()||s.getMonth()-t.getMonth()||s.getDate()-t.getDate()||s.getHours()-t.getHours()||s.getMinutes()-t.getMinutes()||s.getSeconds()-t.getSeconds()||s.getMilliseconds()-t.getMilliseconds();return a<0?-1:a>0?1:a}function ce(s,t){const a=()=>q(t?.in,NaN),r=js(s);let i;if(r.date){const c=bs(r.date,2);i=Ns(c.restDateString,c.year)}if(!i||isNaN(+i))return a();const l=+i;let d=0,u;if(r.time&&(d=vs(r.time),isNaN(d)))return a();if(r.timezone){if(u=ys(r.timezone),isNaN(u))return a()}else{const c=new Date(l+d),h=A(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return A(l+d+u)}const R={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hs=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fs=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ps=/^([+-])(\d{2})(?::?(\d{2}))?$/;function js(s){const t={},a=s.split(R.dateTimeDelimiter);let n;if(a.length>2)return t;if(/:/.test(a[0])?n=a[0]:(t.date=a[0],n=a[1],R.timeZoneDelimiter.test(t.date)&&(t.date=s.split(R.timeZoneDelimiter)[0],n=s.substr(t.date.length,s.length))),n){const r=R.timezone.exec(n);r?(t.time=n.replace(r[1],""),t.timezone=r[1]):t.time=n}return t}function bs(s,t){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=s.match(a);if(!n)return{year:NaN,restDateString:""};const r=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?r:i*100,restDateString:s.slice((n[1]||n[2]).length)}}function Ns(s,t){if(t===null)return new Date(NaN);const a=s.match(hs);if(!a)return new Date(NaN);const n=!!a[4],r=D(a[1]),i=D(a[2])-1,l=D(a[3]),d=D(a[4]),u=D(a[5])-1;if(n)return _s(t,d,u)?Ds(t,d,u):new Date(NaN);{const c=new Date(0);return!ws(t,i,l)||!Cs(t,r)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(r,l)),c)}}function D(s){return s?parseInt(s):1}function vs(s){const t=s.match(fs);if(!t)return NaN;const a=H(t[1]),n=H(t[2]),r=H(t[3]);return Ts(a,n,r)?a*xe+n*ge+r*1e3:NaN}function H(s){return s&&parseFloat(s.replace(",","."))||0}function ys(s){if(s==="Z")return 0;const t=s.match(ps);if(!t)return 0;const a=t[1]==="+"?-1:1,n=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return Ps(n,r)?a*(n*xe+r*ge):NaN}function Ds(s,t,a){const n=new Date(0);n.setUTCFullYear(s,0,4);const r=n.getUTCDay()||7,i=(t-1)*7+a+1-r;return n.setUTCDate(n.getUTCDate()+i),n}const ks=[31,null,31,30,31,30,31,31,30,31,30,31];function fe(s){return s%400===0||s%4===0&&s%100!==0}function ws(s,t,a){return t>=0&&t<=11&&a>=1&&a<=(ks[t]||(fe(s)?29:28))}function Cs(s,t){return t>=1&&t<=(fe(s)?366:365)}function _s(s,t,a){return t>=1&&t<=53&&a>=0&&a<=6}function Ts(s,t,a){return s===24?t===0&&a===0:a>=0&&a<60&&t>=0&&t<60&&s>=0&&s<25}function Ps(s,t){return t>=0&&t<=59}function Is({patient:s,onClose:t}){const{data:a,setData:n,post:r,processing:i,errors:l,reset:d}=Ue({user_id:s?.id||"",kehamilan_ke:"",hpht:"",hpl:"",tinggi_badan_awal:"",jumlah_janin:1,status:"Aktif"}),u=c=>{c.preventDefault(),r(route("petugas.createKehamilan"),{preserveScroll:!0,onSuccess:()=>{d(),t()}})};return e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"kehamilan_ke",value:"Kehamilan Ke-"}),e.jsx(y,{id:"kehamilan_ke",type:"number",value:a.kehamilan_ke,className:"mt-1 block w-full",onChange:c=>n("kehamilan_ke",c.target.value)}),e.jsx(v,{message:l.kehamilan_ke,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"hpht",value:"Tanggal HPHT"}),e.jsx(y,{id:"hpht",type:"date",value:a.hpht,className:"mt-1 block w-full",onChange:c=>n("hpht",c.target.value)}),e.jsx(v,{message:l.hpht,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"hpl",value:"Tanggal HPL"}),e.jsx(y,{id:"hpl",type:"date",value:a.hpl,className:"mt-1 block w-full",onChange:c=>n("hpl",c.target.value)}),e.jsx(v,{message:l.hpl,className:"mt-2"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"tinggi_badan_awal",value:"Tinggi Badan Awal (cm)"}),e.jsx(y,{id:"tinggi_badan_awal",type:"number",step:"0.1",value:a.tinggi_badan_awal,className:"mt-1 block w-full",onChange:c=>n("tinggi_badan_awal",c.target.value)}),e.jsx(v,{message:l.tinggi_badan_awal,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"jumlah_janin",value:"Jumlah Janin"}),e.jsx(y,{id:"jumlah_janin",type:"number",value:a.jumlah_janin,className:"mt-1 block w-full",onChange:c=>n("jumlah_janin",c.target.value)}),e.jsx(v,{message:l.jumlah_janin,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"status",value:"Status Kehamilan"}),e.jsxs("select",{id:"status",value:a.status,className:"mt-1 block w-full border-gray-300 rounded-md",onChange:c=>n("status",c.target.value),children:[e.jsx("option",{value:"Aktif",children:"Aktif"}),e.jsx("option",{value:"Selesai",children:"Selesai"}),e.jsx("option",{value:"Keguguran",children:"Keguguran"})]}),e.jsx(v,{message:l.status,className:"mt-2"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Je,{disabled:i,children:i?"Menyimpan...":"Simpan"})})]})}var X="Dialog",[pe]=Qe(X),[Ss,x]=pe(X),je=s=>{const{__scopeDialog:t,children:a,open:n,defaultOpen:r,onOpenChange:i,modal:l=!0}=s,d=m.useRef(null),u=m.useRef(null),[c=!1,h]=Ze({prop:n,defaultProp:r,onChange:i});return e.jsx(Ss,{scope:t,triggerRef:d,contentRef:u,contentId:K(),titleId:K(),descriptionId:K(),open:c,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(b=>!b),[h]),modal:l,children:a})};je.displayName=X;var be="DialogTrigger",Ms=m.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=x(be,a),i=J(t,r.triggerRef);return e.jsx(P.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":te(r.open),...n,ref:i,onClick:w(s.onClick,r.onOpenToggle)})});Ms.displayName=be;var ee="DialogPortal",[Os,Ne]=pe(ee,{forceMount:void 0}),ve=s=>{const{__scopeDialog:t,forceMount:a,children:n,container:r}=s,i=x(ee,t);return e.jsx(Os,{scope:t,forceMount:a,children:m.Children.map(n,l=>e.jsx(Q,{present:a||i.open,children:e.jsx(qe,{asChild:!0,container:r,children:l})}))})};ve.displayName=ee;var F="DialogOverlay",ye=m.forwardRef((s,t)=>{const a=Ne(F,s.__scopeDialog),{forceMount:n=a.forceMount,...r}=s,i=x(F,s.__scopeDialog);return i.modal?e.jsx(Q,{present:n||i.open,children:e.jsx(Rs,{...r,ref:t})}):null});ye.displayName=F;var Rs=m.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=x(F,a);return e.jsx(es,{as:Le,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(P.div,{"data-state":te(r.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),j="DialogContent",De=m.forwardRef((s,t)=>{const a=Ne(j,s.__scopeDialog),{forceMount:n=a.forceMount,...r}=s,i=x(j,s.__scopeDialog);return e.jsx(Q,{present:n||i.open,children:i.modal?e.jsx(As,{...r,ref:t}):e.jsx(Fs,{...r,ref:t})})});De.displayName=j;var As=m.forwardRef((s,t)=>{const a=x(j,s.__scopeDialog),n=m.useRef(null),r=J(t,a.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return Xe(i)},[]),e.jsx(ke,{...s,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:w(s.onCloseAutoFocus,i=>{i.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:w(s.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&i.preventDefault()}),onFocusOutside:w(s.onFocusOutside,i=>i.preventDefault())})}),Fs=m.forwardRef((s,t)=>{const a=x(j,s.__scopeDialog),n=m.useRef(!1),r=m.useRef(!1);return e.jsx(ke,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{s.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||a.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:i=>{s.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=i.target;a.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),ke=m.forwardRef((s,t)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:i,...l}=s,d=x(j,a),u=m.useRef(null),c=J(t,u);return ss(),e.jsxs(e.Fragment,{children:[e.jsx(ts,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:i,children:e.jsx(as,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":te(d.open),...l,ref:c,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Es,{titleId:d.titleId}),e.jsx(Ks,{contentRef:u,descriptionId:d.descriptionId})]})]})}),se="DialogTitle",we=m.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=x(se,a);return e.jsx(P.h2,{id:r.titleId,...n,ref:t})});we.displayName=se;var Ce="DialogDescription",_e=m.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=x(Ce,a);return e.jsx(P.p,{id:r.descriptionId,...n,ref:t})});_e.displayName=Ce;var Te="DialogClose",Pe=m.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=x(Te,a);return e.jsx(P.button,{type:"button",...n,ref:t,onClick:w(s.onClick,()=>r.onOpenChange(!1))})});Pe.displayName=Te;function te(s){return s?"open":"closed"}var Ie="DialogTitleWarning",[Nt,Se]=ns(Ie,{contentName:j,titleName:se,docsSlug:"dialog"}),Es=({titleId:s})=>{const t=Se(Ie),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{s&&(document.getElementById(s)||console.error(a))},[a,s]),null},$s="DialogDescriptionWarning",Ks=({contentRef:s,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Se($s).contentName}}.`;return m.useEffect(()=>{const r=s.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,s,t]),null},Hs=je,Us=ve,zs=ye,Ls=De,Ws=we,Ys=_e,Bs=Pe;function U({...s}){return e.jsx(Hs,{"data-slot":"dialog",...s})}function Vs({...s}){return e.jsx(Us,{"data-slot":"dialog-portal",...s})}function Gs({className:s,...t}){return e.jsx(zs,{"data-slot":"dialog-overlay",className:T("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function z({className:s,children:t,showCloseButton:a=!0,...n}){return e.jsxs(Vs,{"data-slot":"dialog-portal",children:[e.jsx(Gs,{}),e.jsxs(Ls,{"data-slot":"dialog-content",className:T("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...n,children:[t,a&&e.jsxs(Bs,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(We,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function L({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-header",className:T("flex flex-col gap-2 text-center sm:text-left",s),...t})}function W({className:s,...t}){return e.jsx(Ws,{"data-slot":"dialog-title",className:T("text-lg leading-none font-semibold",s),...t})}function Y({className:s,...t}){return e.jsx(Ys,{"data-slot":"dialog-description",className:T("text-muted-foreground text-sm",s),...t})}function Js({lastestPregnantPatients:s,lastestChildPatients:t,consulQueue:a,childPatient:n,patientPregnant:r,patient:i}){const[l,d]=m.useState(""),[u,c]=m.useState(!1),[h,b]=m.useState(!1),[Me,I]=m.useState(!1),Oe=()=>{l.trim()&&$.get(route("petugas.dashboard.index"),{patient_nik:l},{preserveState:!0,onSuccess:()=>{c(!0)}})},Re=o=>{console.log("Starting examination for patient:",o)},Ae=o=>{console.log("Viewing details for patient:",o)},Fe=s.map(o=>({id:`pregnant-${o.id}`,name:`Ibu ${o.kehamilan.user.name}`,time:o.tanggal_checkup,type:`ANC - ${o.jenis_pemeriksaan}`,status:"waiting",notes:o.keluhan??"",isPregnant:!0})),Ee=t.map(o=>({id:`child-${o.id}`,name:`${o.anak.nama}`,time:o.tanggal_pemeriksaan,type:`Kunjungan - ${o.jenis_kunjungan}`,status:"waiting",notes:`BB: ${o.berat_badan_kg}kg | TB: ${o.tinggi_badan_cm}cm`,isPregnant:!1})),$e=a.map(o=>{let p=o.pasien?.name??"Pasien",g="Konsultasi Umum";return o.anak&&(p=o.anak.nama??p,g="Konsultasi Anak"),o.kehamilan&&(g="Konsultasi Ibu Hamil"),{id:String(o.id),name:p,time:o.waktu_mulai_dijadwalkan,type:g,status:o.status_sesi==="Dikonfirmasi"?"waiting":"in-progress",phone:o.pasien?.no_telp,notes:`Durasi: ${o.durasi_menit} menit | Link: ${o.link_video_conference}`,isPregnant:!!o.kehamilan}}),Ke=[...Fe,...Ee];return n&&n.length>0||r&&r.length>0,e.jsxs("div",{className:"px-4 py-6 pb-20 lg:px-8 lg:pb-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"mb-8 flex items-center justify-between",children:e.jsx("div",{children:e.jsx("h1",{className:"font-heading text-foreground text-2xl font-bold",children:"Dashboard Petugas Faskes"})})}),e.jsx(ls,{})]}),e.jsx(us,{}),e.jsxs(C,{className:"mb-8 bg-white",children:[e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),"Cari Pasien"]}),e.jsx(G,{children:"Cari pasien berdasarkan NIK"})]}),e.jsx(_,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ve,{placeholder:"Masukkan NIK pasien",value:l,onChange:o=>d(o.target.value),className:"w-full"})}),e.jsxs(f,{onClick:Oe,className:"bg-primary text-white hover:bg-primary/90",children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"Cari"]})]})})]}),e.jsx(U,{open:u,onOpenChange:c,children:e.jsxs(z,{className:"flex max-h-[85vh] w-[90vw] max-w-6xl flex-col rounded-2xl border border-gray-200 bg-white text-black shadow-xl",children:[e.jsxs(L,{className:"flex-shrink-0",children:[e.jsx(W,{className:"text-2xl font-bold text-black",children:"Hasil Pencarian Pasien"}),e.jsx(Y,{className:"text-base text-gray-600",children:i?e.jsxs(e.Fragment,{children:["Nama:"," ",e.jsx("span",{className:"font-semibold text-black",children:i.name}),e.jsx("br",{}),"NIK:"," ",e.jsx("span",{className:"font-semibold text-black",children:i.nik})]}):e.jsxs("span",{className:"text-red-600",children:["Pasien dengan NIK"," ",e.jsx("span",{className:"font-semibold",children:l})," ","tidak ditemukan"]})})]}),e.jsx("div",{className:"mt-4 flex-1 overflow-y-auto px-1",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"border-r border-gray-200 pr-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between border-b pb-2",children:[e.jsx("h3",{className:"flex items-center gap-2 text-lg font-semibold",children:"Kehamilan"}),e.jsx(f,{size:"sm",className:"bg-green-500 text-white hover:bg-green-600",onClick:()=>{c(!1),I(!0)},children:"+ Kehamilan"})]}),r&&r.length>0?r.map(o=>{const p=ce(o.hpht),g=oe(new Date,p),S=Math.floor(g/7),M=g%7;return e.jsxs("div",{onClick:()=>$.get(route("petugas.create.pemeriksaanAnc",{id:o.id})),className:"mb-4 cursor-pointer rounded-lg border border-gray-300 bg-gray-50 p-5 transition hover:bg-gray-100",children:[e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["ID:"," "]}),o.id]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Kehamilan ke:"," "]}),o.kehamilan_ke??"-"]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Jumlah Janin:"," "]}),o.jumlah_janin??"-"]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Status:"," "]}),o.status??"Tidak diketahui"]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Usia Kehamilan:"," "]}),S," minggu"," ",M," hari (",g," ","hari)"]})]},o.id)}):e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Tidak ada data kehamilan."})]}),e.jsxs("div",{className:"pl-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between border-b pb-2",children:[e.jsx("h3",{className:"flex items-center gap-2 text-lg font-semibold",children:"Anak"}),e.jsx(f,{size:"sm",className:"bg-blue-500 text-white hover:bg-blue-600",onClick:()=>{c(!1),b(!0)},children:"+ Anak"})]}),n&&n.length>0?n.map(o=>{const p=ce(o.tanggal_lahir),g=oe(new Date,p),S=Math.floor(g/365),M=g%365,E=Math.floor(M/30),He=M%30;let O="";return S>0?O=`${S} tahun ${E} bulan`:E>0?O=`${E} bulan ${He} hari`:O=`${g} hari`,e.jsx("div",{onClick:()=>$.get(route("petugas.create.pemeriksaanAnak",{id:o.id})),className:"mb-4 cursor-pointer rounded-lg border border-gray-300 bg-gray-50 p-5 transition-all duration-200 hover:border-blue-400 hover:bg-blue-50",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Nama:"," "]}),o.nama]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Kelamin:"," "]}),o.kelamin==="L"?"Laki-laki":o.kelamin==="P"?"Perempuan":"-"]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:["Usia:"," "]}),O]})]})})},o.id)}):e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Tidak ada data anak."})]})]})}),e.jsx("div",{className:"mt-6 flex flex-shrink-0 justify-end border-t pt-4",children:e.jsx(f,{variant:"outline",className:"rounded-lg border-gray-400 px-6 py-2 text-black hover:bg-gray-200",onClick:()=>c(!1),children:"Tutup"})})]})}),e.jsx(U,{open:Me,onOpenChange:I,children:e.jsxs(z,{className:"max-w-2xl rounded-xl border border-gray-200 bg-white text-black shadow-lg",children:[e.jsxs(L,{children:[e.jsx(W,{className:"text-xl font-bold text-black",children:"Tambah Data Kehamilan"}),e.jsx(Y,{className:"text-gray-600",children:"Lengkapi informasi kehamilan berikut dengan benar."})]}),e.jsx("div",{className:"mt-4",children:e.jsx(Is,{patient:i,onClose:()=>I(!1)})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(f,{variant:"outline",className:"border-gray-400 text-black hover:bg-gray-200",onClick:()=>I(!1),children:"Tutup"})})]})}),e.jsx(U,{open:h,onOpenChange:b,children:e.jsxs(z,{className:"max-w-2xl rounded-xl border border-gray-200 bg-white text-black shadow-lg",children:[e.jsxs(L,{children:[e.jsx(W,{className:"text-xl font-bold text-black",children:"Tambah Data Anak"}),e.jsx(Y,{className:"text-gray-600",children:"Lengkapi informasi anak berikut dengan benar."})]}),e.jsx("div",{className:"mt-4",children:e.jsx(Ge,{patient:i,onClose:()=>b(!1)})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(f,{variant:"outline",className:"border-gray-400 text-black hover:bg-gray-200",onClick:()=>b(!1),children:"Tutup"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[e.jsx(ds,{patients:Ke,onStartExamination:Re,onViewDetails:Ae}),e.jsx(cs,{patients:$e,onStartExamination:o=>console.log("Start Online",o),onViewDetails:o=>console.log("Detail Online",o)})]})]})}function vt({user:s,lastestPregnantPatients:t,lastestChildPatients:a,consulQueue:n,childPatient:r,patientPregnant:i,patient:l}){return console.log("Patient Pregnant:",t),e.jsx(rs,{user:s,children:e.jsx(Js,{lastestPregnantPatients:t,lastestChildPatients:a,consulQueue:n,childPatient:r,patientPregnant:i,patient:l})})}export{vt as default};
