import{r as n,j as e}from"./app-DrhzRvIy.js";import{B as p}from"./badge-BwcORycy.js";import{B as f}from"./button-Baa4IBDi.js";import{C as c,b as N,c as v,d as w,a as m}from"./card-BxdFDOMR.js";import{I as y}from"./input-sECjRrHi.js";import{P as C}from"./PetugasLayout-DvpvKIpV.js";import{F as D}from"./funnel-DnZO4bjs.js";import{c as S}from"./createLucideIcon-BUEv7Pr-.js";import{C as J}from"./calendar-K9FtiVHV.js";import{C as _}from"./clock-Dh3n8FaP.js";/* empty css            */import"./utils-BwwSleOz.js";import"./chevron-down-DFboTuUg.js";import"./log-out-B481QPQf.js";import"./Navigation-C0JBEFcD.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],B=S("arrow-up-down",A);function V({user:b,schedule:o}){const[l,x]=n.useState("all"),[i,g]=n.useState(""),[d,u]=n.useState("date_desc"),T=a=>{try{return new Date(a+"T00:00:00").toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}catch{return a}},h=a=>a?.slice(0,5),j=n.useMemo(()=>{let a=[...o||[]];l!=="all"&&(a=a.filter(s=>s.status_ketersediaan===l)),i&&(a=a.filter(s=>s.tanggal===i));const r=(s,t=!1)=>new Date(`${s.tanggal}T${t?s.jam_selesai:s.jam_mulai}`);switch(d){case"date_desc":a.sort((s,t)=>new Date(t.tanggal).getTime()-new Date(s.tanggal).getTime());break;case"date_asc":a.sort((s,t)=>new Date(s.tanggal).getTime()-new Date(t.tanggal).getTime());break;case"start_time_asc":a.sort((s,t)=>r(s).getTime()-r(t).getTime());break;case"start_time_desc":a.sort((s,t)=>r(t).getTime()-r(s).getTime());break;case"end_time_asc":a.sort((s,t)=>r(s,!0).getTime()-r(t,!0).getTime());break;case"end_time_desc":a.sort((s,t)=>r(t,!0).getTime()-r(s,!0).getTime());break}return a},[o,l,i,d]),k=a=>a==="Tersedia"?e.jsx(p,{className:"border-green-200 bg-green-100 text-green-800",children:a}):e.jsx(p,{className:"border-red-200 bg-red-100 text-red-800",children:a});return e.jsx(C,{user:b,children:e.jsxs("div",{className:"px-4 py-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"font-heading text-foreground text-2xl font-bold",children:"Jadwal Ketersediaan"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Kelola dan lihat jadwal ketersediaan konsultasi online Anda."})]}),e.jsxs(c,{className:"mb-6 bg-white",children:[e.jsxs(N,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Filter & Pengurutan"]}),e.jsx(w,{children:"Sesuaikan tampilan jadwal Anda"})]}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-muted-foreground text-sm",children:"Status Ketersediaan"}),e.jsxs("select",{value:l,onChange:a=>x(a.target.value),className:"rounded-md border px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"Semua"}),e.jsx("option",{value:"Tersedia",children:"Tersedia"}),e.jsx("option",{value:"Penuh",children:"Penuh"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-muted-foreground text-sm",children:"Tanggal"}),e.jsx(y,{type:"date",value:i,onChange:a=>g(a.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-muted-foreground text-sm",children:"Urutkan Berdasarkan"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:d,onChange:a=>u(a.target.value),className:"w-full rounded-md border px-3 py-2 text-sm",children:[e.jsx("option",{value:"date_desc",children:"Tanggal (Terbaru)"}),e.jsx("option",{value:"date_asc",children:"Tanggal (Terlama)"}),e.jsx("option",{value:"start_time_asc",children:"Jam Mulai (A-Z)"}),e.jsx("option",{value:"start_time_desc",children:"Jam Mulai (Z-A)"}),e.jsx("option",{value:"end_time_asc",children:"Jam Selesai (A-Z)"}),e.jsx("option",{value:"end_time_desc",children:"Jam Selesai (Z-A)"})]}),e.jsx(f,{variant:"outline",size:"icon",className:"shrink-0",children:e.jsx(B,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(f,{variant:"outline",className:"w-full",onClick:()=>{x("all"),g(""),u("date_desc")},children:"Reset"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:[j.length===0&&e.jsx(c,{className:"bg-white md:col-span-2 xl:col-span-3",children:e.jsx(m,{className:"text-muted-foreground p-6 text-center",children:"Tidak ada jadwal yang cocok dengan filter."})}),j.map(a=>e.jsxs(c,{className:"overflow-hidden bg-white",children:[e.jsxs(N,{className:"pb-3",children:[e.jsxs(v,{className:"flex items-center justify-between text-base",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),T(a.tanggal)]}),k(a.status_ketersediaan)]}),e.jsxs(w,{children:["ID Jadwal: #",a.id]})]}),e.jsx(m,{className:"pt-0",children:e.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Jam Mulai"}),e.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[e.jsx(_,{className:"h-4 w-4"}),h(a.jam_mulai)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Jam Selesai"}),e.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[e.jsx(_,{className:"h-4 w-4"}),h(a.jam_selesai)]})]})]})})]},a.id))]})]})})}export{V as default};
